<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ Taf3el - Ultimate Social Media Services Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #3b82f6, #1d4ed8);
            --success-gradient: linear-gradient(135deg, #059669, #047857);
            --dark-gradient: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            --admin-gradient: linear-gradient(135deg, #dc2626, #991b1b);
            --referral-gradient: linear-gradient(135deg, #8b5cf6, #7c3aed);
            --profit-gradient: linear-gradient(135deg, #10b981, #059669);
        }
        
        body { 
            font-family: 'Cairo', 'Tajawal', sans-serif; 
            overflow-x: hidden;
            background: var(--dark-gradient);
        }
        
        .gradient-bg { background: var(--dark-gradient); }
        .card-hover { 
            transition: transform 0.3s ease, box-shadow 0.3s ease; 
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }
        .card-hover:hover { 
            transform: scale(1.05); 
            box-shadow: 0 20px 40px rgba(0,0,0,0.3); 
        }
        
        /* Simple glow effects without animations */
        .glow { box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
        .text-glow { text-shadow: 0 0 10px rgba(59, 130, 246, 0.8); }
        .service-card { 
            background: linear-gradient(145deg, #1e293b, #334155); 
            border: 1px solid #475569; 
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        .service-card:hover { 
            border-color: #3b82f6; 
            transform: scale(1.05);
        }
        .btn-primary { 
            background: var(--primary-gradient); 
            transition: transform 0.3s ease, background 0.3s ease;
            border-radius: 8px;
            font-weight: 600;
        }
        .btn-primary:hover { 
            background: linear-gradient(135deg, #1d4ed8, #1e40af); 
            transform: scale(1.05);
        }
        .btn-admin {
            background: var(--admin-gradient);
            transition: transform 0.3s ease, background 0.3s ease;
            border-radius: 8px;
            font-weight: 600;
        }
        .btn-admin:hover {
            background: linear-gradient(135deg, #991b1b, #7f1d1d);
            transform: scale(1.05);
        }
        .stats-card { 
            background: linear-gradient(145deg, #0f172a, #1e293b); 
            border: 1px solid #334155;
            transition: transform 0.3s ease;
        }
        .stats-card:hover {
            transform: scale(1.05);
        }
        .order-status-pending { color: #fbbf24; }
        .order-status-processing { color: #3b82f6; }
        .order-status-completed { color: #10b981; }
        .order-status-cancelled { color: #ef4444; }
        .balance-card { 
            background: var(--success-gradient); 
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(5, 150, 105, 0.3);
        }
        .notification { 
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }
        
        /* Admin panel styles */
        .admin-panel {
            background: linear-gradient(145deg, #0f172a, #1e293b);
            border: 2px solid #dc2626;
            border-radius: 16px;
            backdrop-filter: blur(20px);
        }
        
        .admin-star {
            background: linear-gradient(45deg, #fbbf24, #f59e0b);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.4);
        }
        
        .admin-star:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(251, 191, 36, 0.6);
        }
        
        /* Modal styles */
        .modal {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: linear-gradient(145deg, #1e293b, #334155);
            border: 1px solid #475569;
            border-radius: 16px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            max-width: 95%;
            width: 500px;
        }
        
        /* Auto-save indicator */
        .auto-save-indicator {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            background: rgba(16, 185, 129, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }
        
        .auto-save-indicator.show {
            opacity: 1;
        }
        
        /* User profile dropdown */
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: linear-gradient(145deg, #1e293b, #334155);
            border: 1px solid #475569;
            border-radius: 12px;
            min-width: 250px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 100;
        }
        
        /* Language switch */
        .lang-switch {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 100;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .admin-star {
                width: 40px;
                height: 40px;
            }
            
            .container {
                padding: 0 16px;
            }
            
            .grid {
                gap: 16px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }
            
            .user-actions {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .service-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .admin-tabs-container {
                flex-wrap: nowrap;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                padding-bottom: 10px;
            }
            
            .admin-tab {
                font-size: 12px;
                padding: 8px 12px;
                white-space: nowrap;
            }
            
            .modal-content {
                width: 95%;
            }
            
            .service-details-content {
                width: 95%;
                padding: 15px;
            }
            
            .auth-form, .signup-form-improved {
                padding: 20px;
            }
            
            .admin-card {
                padding: 15px;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .admin-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .service-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Loading spinner - static */
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 3px solid #3b82f6;
            width: 20px;
            height: 20px;
        }
        
        /* Form styles */
        .form-input {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 12px 16px;
            color: white;
            transition: border-color 0.3s ease, transform 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            transform: scale(1.02);
        }
        
        .form-select {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 12px 16px;
            color: white;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .form-select:hover {
            transform: scale(1.02);
        }
        
        /* Table styles */
        .data-table {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .data-table th {
            background: rgba(15, 23, 42, 0.8);
            padding: 16px;
            font-weight: 600;
            border-bottom: 1px solid #475569;
        }
        
        .data-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(71, 85, 105, 0.3);
        }
        
        .data-table tr:hover {
            background: rgba(51, 65, 85, 0.3);
        }
        
        /* Progress bar */
        .progress-bar {
            background: rgba(71, 85, 105, 0.3);
            border-radius: 10px;
            overflow: hidden;
            height: 8px;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            height: 100%;
            transition: width 0.3s ease;
        }
        
        /* Badge styles */
        .badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-success { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .badge-warning { background: rgba(251, 191, 36, 0.2); color: #fbbf24; }
        .badge-error { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .badge-info { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            cursor: help;
        }
        
        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(30, 41, 59, 0.3);
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(59, 130, 246, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(59, 130, 246, 0.7);
        }
        
        /* Service details modal */
        .service-details-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .service-details-modal.show {
            opacity: 1;
            visibility: visible;
        }
        
        .service-details-content {
            background: linear-gradient(145deg, #1e293b, #334155);
            border: 1px solid #475569;
            border-radius: 16px;
            padding: 24px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        /* Order card styles */
        .order-card {
            background: linear-gradient(145deg, #1e293b, #334155);
            border: 1px solid #475569;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }
        
        .order-card:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
        }
        
        /* Admin dashboard styles */
        .admin-dashboard {
            display: none;
        }
        
        .admin-dashboard.show {
            display: block;
        }
        
        .admin-card {
            background: linear-gradient(145deg, #0f172a, #1e293b);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .admin-card:hover {
            border-color: #dc2626;
            transform: scale(1.02);
        }
        
        /* Enhanced animations */
        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-up {
            animation: slideUp 0.5s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Enhanced button styles */
        .btn-details {
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-details:hover {
            background: linear-gradient(135deg, #047857, #065f46);
            transform: scale(1.05);
        }
        
        /* Enhanced service card layout */
        .service-card-enhanced {
            background: linear-gradient(145deg, #1e293b, #334155);
            border: 1px solid #475569;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .service-card-enhanced::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .service-card-enhanced:hover::before {
            transform: scaleX(1);
        }
        
        .service-card-enhanced:hover {
            border-color: #3b82f6;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.2);
        }

        /* Auth form styles */
        .auth-form {
            background: linear-gradient(145deg, #1e293b, #334155);
            border: 1px solid #475569;
            border-radius: 16px;
            padding: 32px;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .auth-input {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 12px 16px;
            color: white;
            width: 100%;
            transition: all 0.3s ease;
        }

        .auth-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .auth-input::placeholder {
            color: #94a3b8;
        }

        .auth-btn {
            background: var(--primary-gradient);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            width: 100%;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-btn:hover {
            background: linear-gradient(135deg, #1d4ed8, #1e40af);
            transform: translateY(-2px);
        }

        .auth-link {
            color: #3b82f6;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .auth-link:hover {
            color: #60a5fa;
        }
        
        /* Fixed admin dashboard display */
        .admin-dashboard {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .admin-dashboard.show {
            display: block;
            opacity: 1;
        }
        
        /* Ø¥Ø¶Ø§ÙØ© Ø£Ù†Ù…Ø§Ø· Ø¬Ø¯ÙŠØ¯Ø© */
        .admin-action-btn {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 4px;
            white-space: nowrap;
        }
        .edit-btn {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            border: 1px solid #3b82f6;
        }
        .delete-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid #ef4444;
        }
        .admin-btn {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid #fbbf24;
        }
        .withdraw-btn {
            background: rgba(139, 92, 246, 0.2);
            color: #8b5cf6;
            border: 1px solid #8b5cf6;
        }
        .add-balance-btn {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid #10b981;
        }
        .reply-section {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 8px;
            padding: 12px;
            margin-top: 10px;
        }
        .profile-form {
            background: linear-gradient(145deg, #1e293b, #334155);
            border: 1px solid #475569;
            border-radius: 16px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }
        .edit-indicator {
            position: absolute;
            top: 0;
            left: 0;
            background: #3b82f6;
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 0 0 6px 0;
        }
        
        /* New styles for added features */
        .referral-card {
            background: var(--referral-gradient);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .referral-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }
        
        .analytics-chart {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            padding: 20px;
            height: 300px;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
        }
        
        .chart-bar {
            width: 30px;
            background: linear-gradient(to top, #3b82f6, #1e40af);
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: height 0.5s ease;
        }
        
        .chart-bar-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
            color: #94a3b8;
        }
        
        .two-factor-box {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        
        .qr-code {
            background: white;
            padding: 10px;
            border-radius: 8px;
            display: inline-block;
            margin: 15px 0;
        }
        
        .security-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
        }

        /* Ø±Ø³Ø§Ù„Ø© ØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙ‡Ø§ */
        .message-replied {
            border-left: 4px solid #10b981;
        }
        
        /* New styles for contact page */
        .user-info-card {
            background: linear-gradient(145deg, #1e293b, #334155);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .message-thread {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .user-message {
            background: rgba(59, 130, 246, 0.2);
            border-radius: 10px;
            padding: 10px 15px;
            margin-bottom: 10px;
            max-width: 80%;
            margin-left: auto;
        }
        
        .admin-reply {
            background: rgba(16, 185, 129, 0.2);
            border-radius: 10px;
            padding: 10px 15px;
            margin-bottom: 10px;
            max-width: 80%;
            margin-right: auto;
        }
        
        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.85rem;
            color: #94a3b8;
        }
        
        .new-thread-form {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© */
        .signup-form-improved {
            background: linear-gradient(145deg, #1e293b, #334155);
            border: 1px solid #475569;
            border-radius: 16px;
            padding: 32px;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }
        
        .referral-field {
            background: rgba(139, 92, 246, 0.1);
            border-left: 3px solid #8b5cf6;
        }
        
        .contact-form-improved {
            background: rgba(30, 41, 59, 0.9);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }
        
        .welcome-banner {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        /* New styles for admin tabs */
        .admin-tabs-container {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .admin-tab {
            padding: 10px 16px;
            border-radius: 8px;
            background: rgba(71, 85, 105, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 14px;
        }
        
        .admin-tab:hover {
            background: rgba(71, 85, 105, 0.5);
        }
        
        .admin-tab.active {
            background: var(--primary-gradient);
            font-weight: 600;
        }
        
        /* New style for disabled button */
        .btn-disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        /* Profit styles */
        .profit-card {
            background: var(--profit-gradient);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .profit-chart {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            padding: 20px;
            height: 300px;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
        }
        
        .profit-bar {
            width: 30px;
            background: linear-gradient(to top, #10b981, #047857);
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: height 0.5s ease;
        }
        
        .profit-bar-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
            color: #94a3b8;
        }
        
        .profit-summary {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-top: 20px;
        }
        
        .profit-box {
            background: rgba(16, 185, 129, 0.2);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }
        
        .profit-value {
            font-size: 24px;
            font-weight: bold;
            color: #10b981;
        }
        
        .profit-label {
            font-size: 14px;
            color: #94a3b8;
        }
        
        /* Ø£Ù„ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯Ø© Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø³Ø­ */
        .clear-data-btn {
            background: linear-gradient(135deg, #dc2626, #991b1b);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            width: 100%;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }
        
        .clear-data-btn:hover {
            background: linear-gradient(135deg, #991b1b, #7f1d1d);
            transform: translateY(-2px);
        }
        
        /* New styles for added features */
        .message-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        .discount-banner {
            background: linear-gradient(135deg, #dc2626, #991b1b);
            border-radius: 8px;
            padding: 8px 12px;
            text-align: center;
            margin-top: 10px;
            animation: pulse 2s infinite;
            font-size: 14px;
        }
        
        .discount-timer {
            font-weight: bold;
            font-size: 1rem;
            color: #fbbf24;
            margin-top: 3px;
        }
        
        .original-price {
            text-decoration: line-through;
            color: #94a3b8;
            font-size: 0.9rem;
            margin-left: 5px;
        }
        
        .discount-percent {
            background: #ef4444;
            color: white;
            border-radius: 4px;
            padding: 2px 6px;
            font-size: 0.8rem;
            margin-left: 5px;
        }
        
        .tracking-btn {
            background: rgba(139, 92, 246, 0.2);
            color: #8b5cf6;
            border: 1px solid #8b5cf6;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 4px;
            white-space: nowrap;
        }
        
        .tracking-btn:hover {
            background: rgba(139, 92, 246, 0.4);
        }
        
        .chat-btn {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            border: 1px solid #3b82f6;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 4px;
            white-space: nowrap;
        }
        
        .chat-btn:hover {
            background: rgba(59, 130, 246, 0.4);
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        /* Ø£Ø²Ø±Ø§Ø± Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
        .add-balance-btn {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid #10b981;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 4px;
            white-space: nowrap;
        }
        
        .add-balance-btn:hover {
            background: rgba(16, 185, 129, 0.4);
        }
        
        .withdraw-btn {
            background: rgba(139, 92, 246, 0.2);
            color: #8b5cf6;
            border: 1px solid #8b5cf6;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 4px;
            white-space: nowrap;
        }
        
        .withdraw-btn:hover {
            background: rgba(139, 92, 246, 0.4);
        }
        
        /* Ø²Ø± Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        .clear-all-data-btn {
            background: linear-gradient(135deg, #dc2626, #991b1b);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            width: 100%;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }
        
        .clear-all-data-btn:hover {
            background: linear-gradient(135deg, #991b1b, #7f1d1d);
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="gradient-bg text-white min-h-screen">
    <!-- Auto-save indicator -->
    <div id="autoSaveIndicator" class="auto-save-indicator">
        <span id="autoSaveText">ØªÙ… Ø§Ù„Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</span>
    </div>
    
    <!-- Admin Star Button -->
    <div class="fixed top-4 right-4 z-50">
        <div class="admin-star" onclick="showAdminModal()">
            <span class="text-2xl">â­</span>
        </div>
    </div>
    
    <!-- Header -->
    <header class="bg-slate-800/50 backdrop-blur-sm border-b border-slate-700 sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between header-content">
                <div class="flex items-center space-x-4 rtl:space-x-reverse">
                    <h1 class="text-2xl font-bold text-glow">ğŸš€ Taf3el</h1>
                    <span class="text-sm text-slate-400">Ù…Ù†ØµØ© ØªØ²ÙˆÙŠØ¯ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§</span>
                </div>
                
                <nav class="hidden md:flex items-center space-x-6 rtl:space-x-reverse nav-links">
                    <button onclick="showPage('home')" class="nav-btn text-blue-400 border-b-2 border-blue-400 pb-1">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    <button onclick="scrollToServices()" class="nav-btn hover:text-blue-400 transition-colors pb-1">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</button>
                    <button onclick="showPage('orders')" class="nav-btn hover:text-blue-400 transition-colors pb-1">Ø·Ù„Ø¨Ø§ØªÙŠ</button>
                    <button onclick="showPage('contact')" class="nav-btn hover:text-blue-400 transition-colors pb-1 relative">
                        Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ
                        <span id="supportBadge" class="message-badge hidden">0</span>
                    </button>
                    <button id="adminNav" class="nav-btn hover:text-red-400 hidden transition-colors pb-1" onclick="showAdminDashboard()">
                        Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
                    </button>
                </nav>

                <div class="flex items-center space-x-4 rtl:space-x-reverse user-actions">
                    <div id="userProfile" class="hidden flex items-center space-x-4 rtl:space-x-reverse relative">
                        <div class="balance-card px-4 py-2 rounded-lg">
                            <span class="text-sm">Ø§Ù„Ø±ØµÙŠØ¯: </span>
                            <span class="font-bold" id="userBalance">0</span>
                        </div>
                        <button onclick="showBalanceModal()" class="btn-primary px-4 py-2 rounded-lg">Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯</button>
                        
                        <div class="relative">
                            <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-600 transition-colors" id="userAvatar" onclick="toggleUserDropdown()">
                                <span class="text-sm font-bold" id="userInitial">U</span>
                            </div>
                            <div id="userDropdown" class="user-dropdown hidden">
                                <div class="p-4 border-b border-slate-600">
                                    <div class="font-semibold" id="userName">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</div>
                                    <div class="text-xs text-slate-400" id="userPhone"></div>
                                </div>
                                <div class="p-2">
                                    <button onclick="showProfile()" class="w-full text-right px-4 py-2 hover:bg-slate-600 rounded-lg transition-colors">
                                        Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
                                    </button>
                                    <hr class="my-2 border-slate-600">
                                    <button onclick="logout()" class="w-full text-right px-4 py-2 hover:bg-red-600 rounded-lg transition-colors text-red-400">
                                        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="authButtons" class="flex space-x-2 rtl:space-x-reverse">
                        <button onclick="showLoginModal()" class="btn-primary px-4 py-2 rounded-lg">
                            ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                        </button>
                        <button onclick="showSignupModal()" class="bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition-colors">
                            Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Login Modal -->
    <div id="loginModal" class="modal fixed inset-0 z-50 hidden">
        <div class="auth-form">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold mb-2">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
                <p class="text-slate-400">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ Ø¥Ù„Ù‰ Taf3el</p>
            </div>
            
            <form id="loginForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="tel" id="loginPhone" class="auth-input" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="loginPassword" class="auth-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" id="rememberMe" class="mr-2">
                    <label for="rememberMe" class="text-sm">ØªØ°ÙƒØ±Ù†ÙŠ</label>
                </div>
                
                <button type="submit" class="auth-btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            </form>
            
            <div class="text-center mt-4">
                <p class="text-slate-400">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ 
                    <a href="#" onclick="hideLoginModal(); showSignupModal();" class="auth-link">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</a>
                </p>
                
            </div>
            
            <button onclick="hideLoginModal()" class="absolute top-4 left-4 text-slate-400 hover:text-white">
                âœ•
            </button>
        </div>
    </div>

    <!-- Signup Modal - ØªÙ… ØªØ­Ø³ÙŠÙ†Ù‡ -->
    <div id="signupModal" class="modal fixed inset-0 z-50 hidden">
        <div class="signup-form-improved">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold mb-2">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
                <p class="text-slate-400">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Taf3el Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ£Ø© 5 Ø¬Ù†ÙŠÙ‡!</p>
            </div>
            
            <form id="signupForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="signupName" class="auth-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="tel" id="signupPhone" class="auth-input" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="signupPassword" class="auth-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="signupConfirmPassword" class="auth-input" placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                </div>
                
                
                <button type="submit" class="auth-btn">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
            </form>
            
            <div class="text-center mt-4">
                <p class="text-slate-400">Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ 
                    <a href="#" onclick="hideSignupModal(); showLoginModal();" class="auth-link">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
                </p>
            </div>
            
            <button onclick="hideSignupModal()" class="absolute top-4 left-4 text-slate-400 hover:text-white">
                âœ•
            </button>
        </div>
    </div>

    <!-- Two-Factor Authentication Modal -->
    <div id="twoFactorModal" class="modal fixed inset-0 z-50 hidden">
        <div class="auth-form">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold mb-2">ØªÙˆØ«ÙŠÙ‚ Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ø¹Ø§Ù…Ù„</h2>
                <p class="text-slate-400">Ù„ØªØ¹Ø²ÙŠØ² Ø£Ù…Ø§Ù† Ø­Ø³Ø§Ø¨Ùƒ</p>
            </div>
            
            <div class="two-factor-box">
                <div class="mb-4">
                    <span class="security-badge">
                        <i class="fas fa-shield-alt"></i> Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù‚ØµÙˆÙ‰
                    </span>
                </div>
                
                <p class="mb-4">Ù‚Ù… Ø¨Ù…Ø³Ø­ Ø±Ù…Ø² Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© (QR Code) Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙˆØ«ÙŠÙ‚:</p>
                
                <div class="qr-code">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=Taf3el-2FA-Example" alt="QR Code">
                </div>
                
                <p class="text-sm text-slate-400 mt-4">Ø£Ùˆ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² ÙŠØ¯ÙˆÙŠØ§Ù‹: <span class="font-mono">TAF3EL-2FA-SECRET</span></p>
                
                <div class="mt-6">
                    <label class="block text-sm font-medium mb-2">Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù…</label>
                    <input type="text" id="twoFactorCode" class="auth-input text-center tracking-widest" placeholder="123456" maxlength="6">
                </div>
                
                <div class="flex space-x-2 rtl:space-x-reverse mt-6">
                    <button onclick="verifyTwoFactor()" class="btn-primary flex-1 py-2">ØªÙØ¹ÙŠÙ„</button>
                    <button onclick="hideTwoFactorModal()" class="bg-slate-700 hover:bg-slate-600 flex-1 py-2">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </div>
            
            <button onclick="hideTwoFactorModal()" class="absolute top-4 left-4 text-slate-400 hover:text-white">
                âœ•
            </button>
        </div>
    </div>

    <!-- Admin Modal -->
    <div id="adminModal" class="modal fixed inset-0 z-50 hidden">
        <div class="modal-content">
            <div class="p-6">
                <h3 class="text-xl font-bold mb-4 text-center">ğŸ” Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±</h3>
                <form id="adminLoginForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø¯ÙŠØ±</label>
                        <input type="password" id="adminPassword" class="form-input w-full" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø¯ÙŠØ±" required>
                    </div>
                    <button type="submit" class="btn-admin w-full py-3">Ø¯Ø®ÙˆÙ„</button>
                </form>
                <button onclick="hideAdminModal()" class="absolute top-4 left-4 text-slate-400 hover:text-white">
                    âœ•
                </button>
            </div>
        </div>
    </div>

    <!-- Balance Modal -->
    <div id="balanceModal" class="modal fixed inset-0 z-50 hidden">
        <div class="modal-content">
            <div class="p-6">
                <h3 class="text-xl font-bold mb-4 text-center">ğŸ’° Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯</h3>
                <form id="balanceForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Ø§Ù„Ù…Ø¨Ù„Øº (Ø¬Ù†ÙŠÙ‡)</label>
                        <input type="number" id="chargeAmount" class="form-input w-full" placeholder="5" min="5" required step="0.01">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
                        <select id="paymentMethod" class="form-select w-full" required onchange="toggleVodafoneNumbers()">
                            <option value="">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</option>
                            <option value="vodafone_cash">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</option>
                        </select>
                    </div>
                    
                    <div id="vodafoneNumbers" class="hidden">
                        <label class="block text-sm font-medium mb-2">Ø§Ø®ØªØ± Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„</label>
                        <div class="bg-slate-700/50 p-4 rounded-lg space-y-2">
                            <label class="flex items-center space-x-3 rtl:space-x-reverse cursor-pointer">
                                <input type="radio" name="transferNumber" value="01013062296" class="form-radio h-4 w-4 text-blue-600 bg-slate-800 border-slate-600 focus:ring-blue-500" required>
                                <span class="font-bold text-green-400">01013062296</span>
                            </label>
                            <label class="flex items-center space-x-3 rtl:space-x-reverse cursor-pointer">
                                <input type="radio" name="transferNumber" value="01554887765" class="form-radio h-4 w-4 text-blue-600 bg-slate-800 border-slate-600 focus:ring-blue-500">
                                <span class="font-bold text-green-400">01554887765</span>
                            </label>
                            <p class="text-sm text-slate-400 pt-2">Ù‚Ù… Ø¨Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø°ÙŠ Ø§Ø®ØªØ±ØªÙ‡ Ø«Ù… Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ Ø§Ù„Ø°ÙŠ Ø­ÙˆÙ„Øª Ù…Ù†Ù‡.</p>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø°ÙŠ ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù†Ù‡</label>
                        <input type="text" id="transactionId" class="form-input w-full" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
                    </div>
                    
                    <button type="submit" class="btn-primary w-full py-3">Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø´Ø­Ù†</button>
                </form>
                <button onclick="hideBalanceModal()" class="absolute top-4 left-4 text-slate-400 hover:text-white">
                    âœ•
                </button>
            </div>
        </div>
    </div>

    <!-- Service Details Modal -->
    <div id="serviceDetailsModal" class="service-details-modal">
        <div class="service-details-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold" id="serviceTitle">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø©</h3>
                <button onclick="closeServiceModal()" class="text-slate-400 hover:text-white">âœ•</button>
            </div>
            
            <div id="serviceInfo" class="mb-6">
                <!-- Service details will be loaded here -->
            </div>
            
            <form id="serviceOrderForm" class="space-y-4" onsubmit="handleServiceOrder(event)">
                <div>
                    <label class="block text-sm font-medium mb-2">Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø­ØªÙˆÙ‰</label>
                    <input type="url" id="contentLink" class="form-input w-full" placeholder="https://www.tiktok.com/@username/video/..." required>
                </div>
                
                <div id="quantityField">
                    <label class="block text-sm font-medium mb-2">Ø§Ù„ÙƒÙ…ÙŠØ©</label>
                    <input type="number" id="quantity" class="form-input w-full" min="1" value="1" oninput="calculateTotalPrice()">
                    <div id="quantityError" class="text-red-400 text-sm mt-1 hidden"></div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <textarea id="orderNotes" class="form-input w-full" rows="3" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..."></textarea>
                </div>
                
                <div class="bg-slate-700/50 p-4 rounded-lg">
                    <div class="flex justify-between items-center">
                        <span class="font-semibold">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø¹Ø±:</span>
                        <span class="text-xl font-bold text-green-400" id="totalPrice">0 Ø¬Ù†ÙŠÙ‡</span>
                    </div>
                </div>
                
                <button type="submit" class="btn-primary w-full py-3">Ø·Ù„Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø©</button>
            </form>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="fixed top-4 left-4 z-50 space-y-2">
        <!-- Notifications will appear here -->
    </div>

    <!-- Clear All Data Modal -->
    <div id="clearAllDataModal" class="modal fixed inset-0 z-50 hidden">
        <div class="modal-content">
            <div class="p-6">
                <h3 class="text-xl font-bold mb-4 text-center">âš ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
                <p class="text-center text-slate-300 mb-4">Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø³ÙŠÙ…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¨Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡. Ø³ÙŠØªÙ… Ø·Ù„Ø¨ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø¯ÙŠØ± Ù„Ù„ØªØ£ÙƒÙŠØ¯.</p>
                
                <form id="clearDataForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø¯ÙŠØ±</label>
                        <input type="password" id="clearDataPassword" class="form-input w-full" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø¯ÙŠØ±" required>
                    </div>
                    <button type="submit" class="btn-admin w-full py-3">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø³Ø­</button>
                </form>
                <button onclick="hideClearAllDataModal()" class="absolute top-4 left-4 text-slate-400 hover:text-white">
                    âœ•
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Home Page -->
        <div id="homePage" class="page-content">
            <!-- Hero Section -->
            <section class="text-center mb-12">
                <div class="welcome-banner">
                    <h2 class="text-4xl font-bold mb-4 text-white">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Taf3el</h2>
                    <p class="text-xl text-slate-200 mb-8">Ø£ÙØ¶Ù„ Ù…Ù†ØµØ© Ù„ØªØ²ÙˆÙŠØ¯ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§ Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø© ÙˆØ¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©</p>
                    <div class="flex justify-center space-x-4 rtl:space-x-reverse">
                        <button onclick="scrollToServices()" class="bg-white text-blue-600 px-8 py-3 rounded-lg text-lg font-semibold glow">ØªØµÙØ­ Ø§Ù„Ø®Ø¯Ù…Ø§Øª</button>
                        <button onclick="showPage('orders')" class="bg-slate-800/70 text-white px-8 py-3 rounded-lg text-lg font-semibold transition-colors">Ø·Ù„Ø¨Ø§ØªÙŠ</button>
                    </div>
                </div>
            </section>

            <!-- TikTok Services Section -->
            <section id="servicesSection" class="mb-12">
                <h2 class="text-4xl font-bold text-center mb-8 text-glow">Ø®Ø¯Ù…Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ</h2>
                
                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-center">ğŸ“Œ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ÙØ±Ø¯ÙŠÙ‘Ø©:</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 service-grid">
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">10,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</h4>
                            <div class="flex justify-center items-center">
                                <span class="text-3xl font-bold text-blue-400 text-center mb-4">15Ø¬</span>
                                <span class="original-price">30Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('views_10k')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">1,000 Ù„Ø§ÙŠÙƒ</h4>
                            <div class="flex justify-center items-center">
                                <span class="text-3xl font-bold text-blue-400 text-center mb-4">10Ø¬</span>
                                <span class="original-price">20Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('likes_1k')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">100 Ø­ÙØ¸</h4>
                            <div class="flex justify-center items-center">
                                <span class="text-3xl font-bold text-blue-400 text-center mb-4">5Ø¬</span>
                                <span class="original-price">10Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('saves_100')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">50 Ù…Ø´Ø§Ø±ÙƒØ©</h4>
                            <div class="flex justify-center items-center">
                                <span class="text-3xl font-bold text-blue-400 text-center mb-4">1Ø¬</span>
                                <span class="original-price">2Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('shares_100')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">10 ÙƒÙˆÙ…Ù†Øª</h4>
                            <div class="flex justify-center items-center">
                                <span class="text-3xl font-bold text-blue-400 text-center mb-4">5Ø¬</span>
                                <span class="original-price">10Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('comment_25')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>

                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">100 Ù…ØªØ§Ø¨Ø¹</h4>
                            <div class="flex justify-center items-center">
                                <span class="text-3xl font-bold text-blue-400 text-center mb-4">10Ø¬</span>
                                <span class="original-price">20Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('followers_1k')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-center">ğŸ“¦ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªÙØ§Ø¹Ù„:</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 service-grid">

                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸ“ Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø¨ØªØ¯Ø¦ ğŸŒŸ</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>7,500 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>500 Ù„Ø§ÙŠÙƒ</li>
                                <li>50 Ø­ÙØ¸</li>
                                <li>30 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">15Ø¬</span>
                                <span class="original-price">30Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_beginner')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸ“ Ø¨Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø§Ø³</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>15,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>750 Ù„Ø§ÙŠÙƒ</li>
                                <li>100 Ø­ÙØ¸</li>
                                <li>80 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">25Ø¬</span>
                                <span class="original-price">50Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_basic')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸš€ Ø¨Ø§Ù‚Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ù…ÙƒØ«Ù</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>25,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>1,500 Ù„Ø§ÙŠÙƒ</li>
                                <li>200 Ø­ÙØ¸</li>
                                <li>130 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">35Ø¬</span>
                                <span class="original-price">70Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_intensive')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸ”¥ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø±ÙƒØ²</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>50,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>2,500 Ù„Ø§ÙŠÙƒ</li>
                                <li>300 Ø­ÙØ¸</li>
                                <li>250 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">60Ø¬</span>
                                <span class="original-price">120Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_focused')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸ‘‘ Ø¨Ø§Ù‚Ø© Ø§Ù„Ù†Ø®Ø¨Ø©</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>100,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>5,000 Ù„Ø§ÙŠÙƒ</li>
                                <li>500 Ø­ÙØ¸</li>
                                <li>400 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">95Ø¬</span>
                                <span class="original-price">190Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_elite')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸŒŸ Ø¨Ø§Ù‚Ø© VIP</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>250,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>10,000 Ù„Ø§ÙŠÙƒ</li>
                                <li>1,000 Ø­ÙØ¸</li>
                                <li>750 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">180Ø¬</span>
                                <span class="original-price">260Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_vip')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸ’ Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>500,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>20,000 Ù„Ø§ÙŠÙƒ</li>
                                <li>2,000 Ø­ÙØ¸</li>
                                <li>1,500 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">100Ø¬</span>
                                <span class="original-price">200Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_premium')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸŒŒ Ø¨Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø©</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>1,000,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>50,000 Ù„Ø§ÙŠÙƒ</li>
                                <li>5,000 Ø­ÙØ¸</li>
                                <li>3,000 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">180Ø¬</span>
                                <span class="original-price">360Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_legend')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>
                        <div class="service-card-enhanced">
                            <h4 class="text-xl font-semibold mb-2 text-center">ğŸ¤‘ Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ù„ÙŠÙˆÙ†ÙŠØ±</h4>
                            <ul class="list-disc list-inside text-slate-300 mb-4">
                                <li>1,500,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</li>
                                <li>75,000 Ù„Ø§ÙŠÙƒ</li>
                                <li>10,000 Ø­ÙØ¸</li>
                                <li>5,000 Ù…Ø´Ø§Ø±ÙƒØ©</li>
                            </ul>
                            <div class="flex justify-center items-center">
                                <span class="text-2xl font-bold text-center text-green-400 mb-4">300Ø¬</span>
                                <span class="original-price">600Ø¬</span>
                                <span class="discount-percent">50%</span>
                            </div>
                            <div class="discount-banner">
                                Ø®ØµÙ… 50%! ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ <span class="discount-timer"></span>
                            </div>
                            <button onclick="showServiceDetails('package_millionaire')" class="btn-details w-full mt-3">ØªÙØ§ØµÙŠÙ„</button>
                        </div>

                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6">
                    <h3 class="text-2xl font-bold mb-4 text-center">ğŸ“Œ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ù‘Ø© Ù„Ø­Ø¶Ø±ØªÙƒ:</h3>
                    <ul class="list-disc list-inside text-slate-300 space-y-2">
                        <li>ØªÙØ§Ø¹Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ Ù…Ø¶Ù…ÙˆÙ† Ø¨Ù†Ø³Ø¨Ø© 100%</li>
                        <li>Ø§Ù„Ø®Ø¯Ù…Ø© Ø³Ø±ÙŠØ¹Ø© Ø¬Ø¯Ø§Ù‹ØŒ ÙˆØ§Ù„ØªØ³Ù„ÙŠÙ… Ø¨ÙŠØªÙ… Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø© Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡</li>
                        <li>Ø§Ù„Ø¯ÙØ¹ Ø¨ÙŠÙƒÙˆÙ† Ù…Ù† Ø®Ù„Ø§Ù„ Vodafone Cash ÙÙ‚Ø·</li>
                        <li>Ø§Ù„Ø¹Ø±Ø¶ Ø³Ø§Ø±ÙŠ Ù„Ù…Ø¯Ø© 14 ÙŠÙˆÙ… ÙÙ‚Ø· Ø­ØªÙ‰ <span id="discountEndDate"></span></li>
                    </ul>
                </div>
            </section>

            <!-- Stats Section -->
            <section class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12 stats-grid">
                <div class="stats-card p-6 rounded-xl text-center card-hover">
                    <div class="text-3xl mb-2">ğŸ“Š</div>
                    <div class="text-2xl font-bold text-blue-400" id="totalOrders">+600</div>
                    <div class="text-slate-400">Ø¹Ù…ÙŠÙ„ Ø±Ø§Ø¶ÙŠ</div>
                </div>
                <div class="stats-card p-6 rounded-xl text-center card-hover">
                    <div class="text-3xl mb-2">âš¡</div>
                    <div class="text-2xl font-bold text-green-400">24/7</div>
                    <div class="text-slate-400">Ø¯Ø¹Ù… ÙÙ†ÙŠ</div>
                </div>
                <div class="stats-card p-6 rounded-xl text-center card-hover">
                    <div class="text-3xl mb-2">ğŸ¯</div>
                    <div class="text-2xl font-bold text-purple-400">100%</div>
                    <div class="text-slate-400">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­</div>
                </div>
                <div class="stats-card p-6 rounded-xl text-center card-hover">
                    <div class="text-3xl mb-2">ğŸš€</div>
                    <div class="text-2xl font-bold text-yellow-400">ÙÙˆØ±ÙŠ</div>
                    <div class="text-slate-400">Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø®Ø¯Ù…Ø©</div>
                </div>
            </section>
        </div>

        <!-- Orders Page -->
        <div id="ordersPage" class="page-content hidden">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">Ø·Ù„Ø¨Ø§ØªÙŠ</h2>
                <div class="flex space-x-4 rtl:space-x-reverse">
                    <select id="orderStatusFilter" class="form-select" onchange="loadUserOrdersPage()">
                        <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
                        <option value="pending">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</option>
                        <option value="processing">Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°</option>
                        <option value="completed">Ù…ÙƒØªÙ…Ù„</option>
                        <option value="cancelled">Ù…Ù„ØºÙŠ</option>
                    </select>
                </div>
            </div>
            <div id="userOrdersList" class="space-y-4">
                <!-- Orders will be loaded here -->
            </div>
        </div>

        <!-- Balance Page -->
        <div id="balancePage" class="page-content hidden">
            <div class="max-w-2xl mx-auto">
                <h2 class="text-3xl font-bold text-center mb-8">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ØµÙŠØ¯</h2>
                
                <div class="balance-card p-8 rounded-xl text-center mb-8">
                    <h3 class="text-2xl font-bold mb-4">Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ</h3>
                    <div class="text-5xl font-bold mb-4" id="currentBalance">0</div>
                    <p class="text-slate-200">ÙŠÙ…ÙƒÙ†Ùƒ Ø´Ø­Ù† Ø±ØµÙŠØ¯Ùƒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</p>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6">
                    <h3 class="text-xl font-bold mb-4">Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯</h3>
                    <form id="balancePageForm" class="space-y-4" onsubmit="handleBalanceCharge(event)">
                        <div>
                            <label class="block text-sm font-medium mb-2">Ø§Ù„Ù…Ø¨Ù„Øº (Ø¬Ù†ÙŠÙ‡)</label>
                            <input type="number" id="balancePageAmount" class="form-input w-full" placeholder="5" min="5" required step="0.01">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
                            <select id="balancePagePaymentMethod" class="form-select w-full" required onchange="toggleBalancePageVodafoneNumbers()">
                                <option value="">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</option>
                                <option value="vodafone_cash">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</option>
                            </select>
                        </div>
                        
                        <div id="balancePageVodafoneNumbers" class="hidden">
                            <label class="block text-sm font-medium mb-2">Ø§Ø®ØªØ± Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„</label>
                            <div class="bg-slate-700/50 p-4 rounded-lg space-y-2">
                                <label class="flex items-center space-x-3 rtl:space-x-reverse cursor-pointer">
                                    <input type="radio" name="balancePageTransferNumber" value="01013062296" class="form-radio h-4 w-4 text-blue-600 bg-slate-800 border-slate-600 focus:ring-blue-500" required>
                                    <span class="font-bold text-green-400">01013062296</span>
                                </label>
                                <label class="flex items-center space-x-3 rtl:space-x-reverse cursor-pointer">
                                    <input type="radio" name="balancePageTransferNumber" value="01554887765" class="form-radio h-4 w-4 text-blue-600 bg-slate-800 border-slate-600 focus:ring-blue-500">
                                    <span class="font-bold text-green-400">01554887765</span>
                                </label>
                                <p class="text-sm text-slate-400 pt-2">Ù‚Ù… Ø¨Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø°ÙŠ Ø§Ø®ØªØ±ØªÙ‡ Ø«Ù… Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ Ø§Ù„Ø°ÙŠ Ø­ÙˆÙ„Øª Ù…Ù†Ù‡.</p>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø°ÙŠ ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù†Ù‡</label>
                            <input type="text" id="balancePageTransactionId" class="form-input w-full" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
                        </div>
                        
                        <button type="submit" class="btn-primary w-full py-3">Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø´Ø­Ù†</button>
                    </form>
                </div>
                
                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 mt-8">
                    <h3 class="text-xl font-bold mb-4">Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</h3>
                    <div id="balanceHistory" class="space-y-3">
                        <div class="flex justify-between items-center py-3 border-b border-slate-700">
                            <div>
                                <div class="font-medium">Ø´Ø­Ù† Ø±ØµÙŠØ¯</div>
                                <div class="text-slate-400 text-sm">20/05/2024 - 14:30</div>
                            </div>
                            <div class="text-green-400 font-semibold">+50 Ø¬Ù†ÙŠÙ‡</div>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-slate-700">
                            <div>
                                <div class="font-medium">Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© - 10,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
                                <div class="text-slate-400 text-sm">19/05/2024 - 10:15</div>
                            </div>
                            <div class="text-red-400 font-semibold">-5 Ø¬Ù†ÙŠÙ‡</div>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-slate-700">
                            <div>
                                <div class="font-medium">Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø¥Ø­Ø§Ù„Ø©</div>
                                <div class="text-slate-400 text-sm">18/05/2024 - 16:45</div>
                            </div>
                            <div class="text-green-400 font-semibold">+10 Ø¬Ù†ÙŠÙ‡</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Page - ØªÙ… ØªØ­Ø³ÙŠÙ†Ù‡ -->
        <div id="contactPage" class="page-content hidden">
            <div class="max-w-2xl mx-auto">
                <h2 class="text-3xl font-bold text-center mb-8">Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</h2>
                
                <div class="user-info-card">
                    <h3 class="text-xl font-bold mb-2">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h3>
                    <div class="text-lg" id="contactUserName">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„</div>
                    <div class="text-slate-400" id="contactUserPhone"></div>
                </div>
                
                <!-- Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-4">Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h3>
                    <div id="previousMessages" class="space-y-4">
                        <div class="text-center py-6">
                            <div class="text-4xl mb-4">ğŸ“¨</div>
                            <p class="text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</p>
                        </div>
                    </div>
                </div>
                
                <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© - ØªÙ… ØªØ­Ø³ÙŠÙ†Ù‡ -->
                <div class="contact-form-improved">
                    <h3 class="text-xl font-bold mb-4">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
                    <form id="contactForm" class="space-y-4" onsubmit="handleContactForm(event)">
                        <div>
                            <label class="block text-sm font-medium mb-2">Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹</label>
                            <input type="text" id="contactSubject" class="form-input w-full" placeholder="Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©" required>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">Ø§Ù„Ø±Ø³Ø§Ù„Ø©</h3>
                            <textarea id="contactMessage" class="form-input w-full" rows="5" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." required></textarea>
                        </div>
                        
                        <button type="submit" class="btn-primary w-full py-3" id="contactSubmitBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
                    </form>
                </div>
                
                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 text-center">
                        <div class="text-3xl mb-4">ğŸ“±</div>
                        <h3 class="text-lg font-semibold mb-2">ÙˆØ§ØªØ³Ø§Ø¨</h3>
                        <p class="text-slate-400">Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹</p>
                        <a href="https://wa.me/201013062296" target="_blank" class="btn-primary inline-block px-4 py-2 rounded-lg mt-4">
                            ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§
                        </a>
                    </div>
                    
                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 text-center">
                        <div class="text-3xl mb-4">â°</div>
                        <h3 class="text-lg font-semibold mb-2">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</h3>
                        <p class="text-slate-400">24/7 Ø¯Ø¹Ù… ÙÙ†ÙŠ</p>
                        <p class="text-green-400 mt-2">Ù…ØªØ§Ø­ÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profilePage" class="page-content hidden"></div>

        <!-- Referral Program Page -->
        <div id="referralPage" class="page-content hidden">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center mb-8">Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø­Ø§Ù„Ø©</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                    <div class="referral-card">
                        <div class="text-5xl mb-4">ğŸ</div>
                        <h3 class="text-2xl font-bold mb-2">ÙƒØ³Ø¨ Ù…Ø¹ ÙƒÙ„ Ø¥Ø­Ø§Ù„Ø©</h3>
                        <p class="mb-4">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 10 Ø¬Ù†ÙŠÙ‡ Ù„ÙƒÙ„ ØµØ¯ÙŠÙ‚ ÙŠØ³Ø¬Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ø§Ø¨Ø·Ùƒ</p>
                        <div class="text-3xl font-bold text-yellow-300 mb-6">+10 Ø¬</div>
                    </div>
                    
                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6">
                        <h3 class="text-xl font-bold mb-4">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¥Ø­Ø§Ù„Ø©</h3>
                        <div class="grid grid-cols-3 gap-4 mb-6">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-blue-400" id="referralCount">5</div>
                                <div class="text-slate-400">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø­Ø¨Ø§Ø¨</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-green-400" id="referralEarnings">50</div>
                                <div class="text-slate-400">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-purple-400" id="pendingEarnings">20</div>
                                <div class="text-slate-400">Ø£Ø±Ø¨Ø§Ø­ Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</div>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold mb-2">Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</h4>
                            <div class="flex">
                                <input type="text" id="referralLink" class="form-input flex-1 rounded-r-none" value="https://taf3el.com?ref=TAF123" readonly>
                                <button onclick="copyReferralLink()" class="bg-blue-600 hover:bg-blue-700 px-4 rounded-l-none rounded-r-lg transition-colors">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex space-x-2 rtl:space-x-reverse">
                            <button class="btn-primary flex-1 py-2">
                                <i class="fab fa-whatsapp mr-2"></i> Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                            </button>
                            <button class="bg-slate-700 hover:bg-slate-600 flex-1 py-2">
                                <i class="fab fa-telegram mr-2"></i> Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6">
                    <h3 class="text-xl font-bold mb-4">Ø§Ù„Ø£Ø­Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full data-table">
                            <thead>
                                <tr>
                                    <th class="text-right p-4">Ø§Ù„Ø§Ø³Ù…</th>
                                    <th class="text-right p-4">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</th>
                                    <th class="text-right p-4">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th>
                                    <th class="text-right p-4">Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                    <th class="text-right p-4">Ø§Ù„Ù…ÙƒØ³Ø¨</th>
                                </tr>
                            </thead>
                            <tbody id="referralsList">
                                <tr>
                                    <td class="p-4">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</td>
                                    <td class="p-4">0123456789</td>
                                    <td class="p-4">15/05/2024</td>
                                    <td class="p-4"><span class="badge badge-success">Ù†Ø´Ø·</span></td>
                                    <td class="p-4 text-green-400">+10 Ø¬Ù†ÙŠÙ‡</td>
                                </tr>
                                <tr>
                                    <td class="p-4">Ù…Ø­Ù…ÙˆØ¯ Ø¹Ù„ÙŠ</td>
                                    <td class="p-4">0112233445</td>
                                    <td class="p-4">10/05/2024</td>
                                    <td class="p-4"><span class="badge badge-warning">Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†Ø´ÙŠØ·</span></td>
                                    <td class="p-4 text-yellow-400">+10 Ø¬Ù†ÙŠÙ‡ (Ù…Ø¹Ù„Ù‚)</td>
                                </tr>
                                <tr>
                                    <td class="p-4">Ø³Ø§Ø±Ø© Ø®Ø§Ù„Ø¯</td>
                                    <td class="p-4">0109876543</td>
                                    <td class="p-4">05/05/2024</td>
                                    <td class="p-4"><span class="badge badge-success">Ù†Ø´Ø·</span></td>
                                    <td class="p-4 text-green-400">+10 Ø¬Ù†ÙŠÙ‡</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Page -->
        <div id="analyticsPage" class="page-content hidden">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-3xl font-bold text-center mb-8">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="stats-card p-6 rounded-xl text-center card-hover">
                        <div class="text-3xl mb-2">ğŸ“Š</div>
                        <div class="text-2xl font-bold text-blue-400" id="totalSpent">350</div>
                        <div class="text-slate-400">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØµØ±ÙÙŠØ§Øª (Ø¬Ù†ÙŠÙ‡)</div>
                    </div>
                    <div class="stats-card p-6 rounded-xl text-center card-hover">
                        <div class="text-3xl mb-2">ğŸš€</div>
                        <div class="text-2xl font-bold text-green-400">24/7</div>
                        <div class="text-slate-400">Ø¯Ø¹Ù… ÙÙ†ÙŠ</div>
                    </div>
                    <div class="stats-card p-6 rounded-xl text-center card-hover">
                        <div class="text-3xl mb-2">ğŸ¯</div>
                        <div class="text-2xl font-bold text-purple-400">100%</div>
                        <div class="text-slate-400">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­</div>
                    </div>
                </div>
                
                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 mb-8">
                    <h3 class="text-xl font-bold mb-6">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</h3>
                    <div class="analytics-chart">
                        <div class="chart-bar" style="height: 30%">
                            <span class="chart-bar-label">ÙŠÙ†Ø§ÙŠØ±</span>
                        </div>
                        <div class="chart-bar" style="height: 50%">
                            <span class="chart-bar-label">ÙØ¨Ø±Ø§ÙŠØ±</span>
                        </div>
                        <div class="chart-bar" style="height: 70%">
                            <span class="chart-bar-label">Ù…Ø§Ø±Ø³</span>
                        </div>
                        <div class="chart-bar" style="height: 90%">
                            <span class="chart-bar-label">Ø£Ø¨Ø±ÙŠÙ„</span>
                        </div>
                        <div class="chart-bar" style="height: 60%">
                            <span class="chart-bar-label">Ù…Ø§ÙŠÙˆ</span>
                        </div>
                        <div class="chart-bar" style="height: 40%">
                            <span class="chart-bar-label">ÙŠÙˆÙ†ÙŠÙˆ</span>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6">
                        <h3 class="text-xl font-bold mb-4">Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>10,000 Ù…Ø´Ø§Ù‡Ø¯Ø© ØªÙŠÙƒ ØªÙˆÙƒ</span>
                                    <span>35%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 35%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>1,000 Ù„Ø§ÙŠÙƒ ØªÙŠÙƒ ØªÙˆÙƒ</span>
                                    <span>25%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 25%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø¨ØªØ¯Ø¦</span>
                                    <span>20%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 20%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>1000 Ù…ØªØ§Ø¨Ø¹ ØªÙŠÙƒ ØªÙˆÙƒ</span>
                                    <span>15%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 15%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>Ø®Ø¯Ù…Ø§Øª Ø£Ø®Ø±Ù‰</span>
                                    <span>5%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 5%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6">
                        <h3 class="text-xl font-bold mb-4">Ù†Ø´Ø§Ø· Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</span>
                                    <span>78%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 78%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø§Ù„Ø±Ø¯</span>
                                    <span>32 Ø¯Ù‚ÙŠÙ‚Ø©</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 65%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span>Ø±Ø¶Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
                                    <span>94%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 94%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="admin-dashboard">
            <div class="admin-panel p-6 mb-8">
                <h2 class="text-3xl font-bold text-center mb-8 text-red-400">â­ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© â­</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-7 gap-6 mb-8 admin-grid">
                    <div class="admin-card text-center">
                        <div class="text-2xl mb-2">ğŸ“¦</div>
                        <div class="text-xl font-bold text-blue-400" id="adminNewOrdersCount">0</div>
                        <div class="text-slate-400">Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ù‡</div>
                    </div>
                    <div class="admin-card text-center">
                        <div class="text-2xl mb-2">âš¡</div>
                        <div class="text-xl font-bold text-yellow-400" id="adminActiveOrders">0</div>
                        <div class="text-slate-400">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</div>
                    </div>
                    <div class="admin-card text-center">
                        <div class="text-2xl mb-2">âœ…</div>
                        <div class="text-xl font-bold text-green-400" id="adminCompletedOrders">0</div>
                        <div class="text-slate-400">Ø·Ù„Ø¨Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</div>
                    </div>
                    <div class="admin-card text-center">
                        <div class="text-2xl mb-2">ğŸ‘¥</div>
                        <div class="text-xl font-bold text-purple-400" id="adminTotalUsers">0</div>
                        <div class="text-slate-400">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
                    </div>
                    <div class="admin-card text-center">
                        <div class="text-2xl mb-2">ğŸ“¨</div>
                        <div class="text-xl font-bold text-blue-400" id="adminNewMessagesCount">0</div>
                        <div class="text-slate-400">Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø¯ÙŠØ¯Ù‡</div>
                    </div>
                    <div class="admin-card text-center">
                        <div class="text-2xl mb-2">ğŸ’°</div>
                        <div class="text-xl font-bold text-green-400" id="adminTotalBalance">0</div>
                        <div class="text-slate-400">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯</div>
                    </div>
                    <!-- Ø¨Ø·Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
                    <div class="admin-card text-center">
                        <div class="text-2xl mb-2">ğŸ’³</div>
                        <div class="text-xl font-bold text-blue-400" id="adminNewBalanceRequests">0</div>
                        <div class="text-slate-400">Ø·Ù„Ø¨Ø§Øª Ø´Ø­Ù† Ø¬Ø¯ÙŠØ¯Ù‡</div>
                    </div>
                </div>
                
                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6">
                    <div class="admin-tabs-container">
                        <div class="admin-tab active" onclick="showAdminTab('newOrders', this)">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</div>
                        <div class="admin-tab" onclick="showAdminTab('active', this)">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</div>
                        <div class="admin-tab" onclick="showAdminTab('completedOrders', this)">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</div>
                        <div class="admin-tab" onclick="showAdminTab('balanceRequests', this)">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</div>
                        <div class="admin-tab" onclick="showAdminTab('completedBalanceRequests', this)">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</div>
                        <div class="admin-tab" onclick="showAdminTab('contactMessages', this)">Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
                        <div class="admin-tab" onclick="showAdminTab('completedMessages', this)">Ø±Ø³Ø§Ø¦Ù„ Ù…ÙƒØªÙ…Ù„Ø©</div>
                        <div class="admin-tab" onclick="showAdminTab('customers', this)">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
                        <div class="admin-tab" onclick="showAdminTab('profits', this)">ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</div>
                    </div>

                    <div id="adminNewOrdersTab" class="admin-tab-content">
                        <h3 class="text-xl font-bold mb-4">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</h3>
                        <div id="adminNewOrdersList" class="space-y-4">
                            <!-- New orders will be loaded here -->
                        </div>
                    </div>
                    
                    <div id="adminActiveTab" class="admin-tab-content hidden">
                        <h3 class="text-xl font-bold mb-4">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</h3>
                        <div id="activeOrdersList" class="space-y-4">
                            <!-- Active orders will be loaded here -->
                        </div>
                    </div>
                    
                    <div id="adminCompletedOrdersTab" class="admin-tab-content hidden">
                        <h3 class="text-xl font-bold mb-4">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h3>
                        <div id="completedOrdersList" class="space-y-4">
                            <!-- Completed orders will be loaded here -->
                        </div>
                    </div>
                    
                    <div id="adminBalanceRequestsTab" class="admin-tab-content hidden">
                        <h3 class="text-xl font-bold mb-4">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</h3>
                        <div id="balanceRequestsList" class="space-y-4">
                            <!-- Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø­Ù† ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                        </div>
                    </div>
                    
                    <div id="adminCompletedBalanceRequestsTab" class="admin-tab-content hidden">
                        <h3 class="text-xl font-bold mb-4">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h3>
                        <div id="completedBalanceRequestsList" class="space-y-4">
                            <!-- Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                        </div>
                    </div>
                    
                    <div id="adminContactMessagesTab" class="admin-tab-content hidden">
                        <h3 class="text-xl font-bold mb-4">Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</h3>
                        <div id="contactMessagesList" class="space-y-4">
                            <!-- Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                        </div>
                    </div>
                    
                    <div id="adminCompletedMessagesTab" class="admin-tab-content hidden">
                        <h3 class="text-xl font-bold mb-4">Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h3>
                        <div id="completedMessagesList" class="space-y-4">
                            <!-- Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                        </div>
                    </div>

                    <div id="adminCustomersTab" class="admin-tab-content hidden">
                        <h3 class="text-xl font-bold mb-4">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>
                        <div class="bg-slate-700/50 rounded-lg overflow-auto max-h-[500px]">
                            <table class="w-full">
                                <thead>
                                    <tr class="bg-slate-800 sticky top-0">
                                        <th class="text-right p-4">Ø§Ù„Ø§Ø³Ù…</th>
                                        <th class="text-right p-4">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</th>
                                        <th class="text-right p-4">Ø§Ù„Ø±ØµÙŠØ¯</th>
                                        <th class="text-right p-4">Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</th>
                                        <th class="text-right p-4">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th>
                                        <th class="text-right p-4">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                    </tr>
                                </thead>
                                <tbody id="customersTableBody">
                                    <!-- Customer data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="adminProfitsTab" class="admin-tab-content hidden">
                        <h3 class="text-xl font-bold mb-4">ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</h3>
                        
                        <div class="profit-summary">
                            <div class="profit-box">
                                <div class="profit-value" id="totalProfit">0 Ø¬Ù†ÙŠÙ‡</div>
                                <div class="profit-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</div>
                            </div>
                            <div class="profit-box">
                                <div class="profit-value" id="monthlyProfit">0 Ø¬Ù†ÙŠÙ‡</div>
                                <div class="profit-label">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                            </div>
                            <div class="profit-box">
                                <div class="profit-value" id="lastMonthProfit">0 Ø¬Ù†ÙŠÙ‡</div>
                                <div class="profit-label">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ</div>
                            </div>
                        </div>
                        
                        <div class="bg-slate-800/50 rounded-xl p-6 mt-6">
                            <h4 class="font-semibold mb-4">ØªØ¹Ø±ÙŠÙ ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</h4>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙØ±Ø¯ÙŠØ© -->
                                <div class="bg-slate-700/50 p-4 rounded-lg">
                                    <label class="block text-sm font-medium mb-2">ØªÙƒÙ„ÙØ© 10,000 Ù…Ø´Ø§Ù‡Ø¯Ø©</label>
                                    <input type="number" id="costViews10k" class="form-input w-full" min="0" value="3" step="0.01">
                                </div>
                                <div class="bg-slate-700/50 p-4 rounded-lg">
                                    <label class="block text-sm font-medium mb-2">ØªÙƒÙ„ÙØ© 1,000 Ù„Ø§ÙŠÙƒ</label>
                                    <input type="number" id="costLikes1k" class="form-input w-full" min="0" value="7" step="0.01">
                                </div>
                                <div class="bg-slate-700/50 p-4 rounded-lg">
                                    <label class="block text-sm font-medium mb-2">ØªÙƒÙ„ÙØ© 100 Ø­ÙØ¸</label>
                                    <input type="number" id="costSaves100" class="form-input w-full" min="0" value="1" step="0.01">
                                </div>
                                <div class="bg-slate-700/50 p-4 rounded-lg">
                                    <label class="block text-sm font-medium mb-2">ØªÙƒÙ„ÙØ© 100 Ù…Ø´Ø§Ø±ÙƒØ©</label>
                                    <input type="number" id="costShares100" class="form-input w-full" min="0" value="0.5" step="0.01">
                                </div>
                                <div class="bg-slate-700/50 p-4 rounded-lg">
                                    <label class="block text-sm font-medium mb-2">ØªÙƒÙ„ÙØ© 25 ÙƒÙˆÙ…Ù†Øª</label>
                                    <input type="number" id="costComment25" class="form-input w-full" min="0" value="3" step="0.01">
                                </div>
                                <div class="bg-slate-700/50 p-4 rounded-lg">
                                    <label class="block text-sm font-medium mb-2">ØªÙƒÙ„ÙØ© 1000 Ù…ØªØ§Ø¨Ø¹</label>
                                    <input type="number" id="costFollowers1k" class="form-input w-full" min="0" value="6" step="0.01">
                                </div>
                            </div>
                            
                            <button onclick="calculateProfits()" class="btn-primary w-full py-3 mt-6">Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</button>
                            
                            <!-- Ø²Ø± Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
                            <button onclick="showClearAllDataModal()" class="clear-all-data-btn">
                                Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ù…Ø§ Ø¹Ø¯Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡)
                            </button>
                        </div>
                        
                        <div class="bg-slate-800/50 rounded-xl p-6 mt-6">
                            <h4 class="font-semibold mb-4">ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</h4>
                            
                            <div class="mt-6 overflow-x-auto">
                                <table class="w-full data-table">
                                    <thead>
                                        <tr>
                                            <th class="text-right p-4">Ø§Ù„Ø®Ø¯Ù…Ø©</th>
                                            <th class="text-right p-4">Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</th>
                                            <th class="text-right p-4">Ø§Ù„ØªÙƒÙ„ÙØ©</th>
                                            <th class="text-right p-4">Ø§Ù„Ø±Ø¨Ø­</th>
                                            <th class="text-right p-4">Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø¨Ø­</th>
                                            <th class="text-right p-4">Ø§Ù„Ø´Ù‡Ø±</th>
                                        </tr>
                                    </thead>
                                    <tbody id="profitReportTable">
                                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Global variables
        let currentUser = null;
        let isAdmin = false;
        let userOrders = [];
        let adminOrders = [];
        let adminMessages = [];
        let allUsers = {};
        let balanceRequests = [];
        let userEdits = [];
        let totalBalanceCharged = 0; // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ù„ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
        let serviceCosts = {
            'views_10k': 3,
            'likes_1k': 7,
            'saves_100': 1,
            'shares_100': 0.5,
            'comment_25': 3,
            'followers_1k': 6,
            'package_beginner': 2,
            'package_basic': 4,
            'package_intensive': 6,
            'package_focused': 12,
            'package_elite': 20,
            'package_vip': 35,
            'package_premium': 60,
            'package_legend': 100,
            'package_millionaire': 180
        };
        
        // Ø¥Ø¶Ø§ÙØ© Ù…ØªØºÙŠØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
        let discountEndDate = new Date();
        discountEndDate.setDate(discountEndDate.getDate() + 14); // Ø®ØµÙ… Ù„Ù…Ø¯Ø© 14 ÙŠÙˆÙ…
        let discountActive = true;
        let profitHistory = [];
        let lastMonthProfit = 0;
        let lastMonthProfitData = [];

        // Service data
        const serviceData = {
            'views_10k': {
                title: '10,000 Ù…Ø´Ø§Ù‡Ø¯Ø© ØªÙŠÙƒ ØªÙˆÙƒ',
                price: 5,
                minQuantity: 500,
                description: 'Ø²ÙŠØ§Ø¯Ø© Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù„Ù‰ ØªÙŠÙƒ ØªÙˆÙƒ',
                features: ['Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© 100%', 'ØªØ³Ù„ÙŠÙ… Ø³Ø±ÙŠØ¹ Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø©', 'Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù„Ù†Ù‚ØµØ§Ù†']
            },
            'likes_1k': {
                title: '1,000 Ù„Ø§ÙŠÙƒ ØªÙŠÙƒ ØªÙˆÙƒ',
                price: 10,
                minQuantity: 50,
                description: 'Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ',
                features: ['Ù„Ø§ÙŠÙƒØ§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ©', 'ØªÙØ§Ø¹Ù„ Ø·Ø¨ÙŠØ¹ÙŠ', 'Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©']
            },
            'comment_25': {
                title: '25 ÙƒÙˆÙ…Ù†Øª ØªÙŠÙƒ ØªÙˆÙƒ',
                price: 0.2,
                minQuantity: 10,
                description: 'Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒÙˆÙ…Ù†ØªØ§Øª Ø¹Ù„Ù‰ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ',
                features: ['ÙƒÙˆÙ…Ù†ØªØ§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ©', 'ØªÙØ§Ø¹Ù„ Ø·Ø¨ÙŠØ¹ÙŠ', 'Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©']
            },
            'saves_100': {
                title: '100 Ø­ÙØ¸ ØªÙŠÙƒ ØªÙˆÙƒ',
                price: 2,
                minQuantity: 10,
                description: 'Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø­ÙØ¸ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ',
                features: ['Ø­ÙØ¸ Ø­Ù‚ÙŠÙ‚ÙŠ', 'ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙˆØµÙˆÙ„', 'ØªØ³Ù„ÙŠÙ… Ø³Ø±ÙŠØ¹']
            },
            'shares_100': {
                title: '100 Ù…Ø´Ø§Ø±ÙƒØ© ØªÙŠÙƒ ØªÙˆÙƒ',
                price: 1,
                minQuantity: 10,
                description: 'Ø²ÙŠØ§Ø¯Ø© Ù…Ø´Ø§Ø±ÙƒØ§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ',
                features: ['Ù…Ø´Ø§Ø±ÙƒØ§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ©', 'Ø§Ù†ØªØ´Ø§Ø± Ø£ÙˆØ³Ø¹', 'ØªÙØ§Ø¹Ù„ Ø·Ø¨ÙŠØ¹ÙŠ']
            },
            'followers_1k': {
                title: '1000 Ù…ØªØ§Ø¨Ø¹ ØªÙŠÙƒ ØªÙˆÙƒ',
                price: 100,
                minQuantity: 10,
                description: 'Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø³Ø§Ø¨',
                features: ['Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø­Ù‚ÙŠÙ‚ÙŠÙŠÙ†', 'Ù†Ù…Ùˆ Ø·Ø¨ÙŠØ¹ÙŠ', 'Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù„Ø¥Ù„ØºØ§Ø¡']
            },
            'package_beginner': {
                title: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø¨ØªØ¯Ø¦',
                price: 5,
                minQuantity: 1,
                description: 'Ø¨Ø§Ù‚Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†',
                features: ['7,500 Ù…Ø´Ø§Ù‡Ø¯Ø©', '500 Ù„Ø§ÙŠÙƒ', '50 Ø­ÙØ¸', '30 Ù…Ø´Ø§Ø±ÙƒØ©']
            },
            'package_basic': {
                title: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø§Ø³',
                price: 7.5,
                minQuantity: 1,
                description: 'Ø¨Ø§Ù‚Ø© Ø£Ø³Ø§Ø³ÙŠØ© Ù…ØªÙˆØ§Ø²Ù†Ø©',
                features: ['13,500 Ù…Ø´Ø§Ù‡Ø¯Ø©', '750 Ù„Ø§ÙŠÙƒ', '100 Ø­ÙØ¸', '80 Ù…Ø´Ø§Ø±ÙƒØ©']
            },
            'package_intensive': {
                title: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ù…ÙƒØ«Ù',
                price: 10,
                minQuantity: 1,
                description: 'Ø¨Ø§Ù‚Ø© Ù„Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ù…ÙƒØ«Ù',
                features: ['25,000 Ù…Ø´Ø§Ù‡Ø¯Ø©', '1,250 Ù„Ø§ÙŠÙƒ', '200 Ø­ÙØ¸', '130 Ù…Ø´Ø§Ø±ÙƒØ©']
            },
            'package_focused': {
                title: 'Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø±ÙƒØ²',
                price: 20,
                minQuantity: 1,
                description: 'Ø¨Ø§Ù‚Ø© Ù„Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø±ÙƒØ²',
                features: ['50,000 Ù…Ø´Ø§Ù‡Ø¯Ø©', '2,500 Ù„Ø§ÙŠÙƒ', '300 Ø­ÙØ¸', '250 Ù…Ø´Ø§Ø±ÙƒØ©']
            },
            'package_elite': {
                title: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù†Ø®Ø¨Ø©',
                price: 35,
                minQuantity: 1,
                description: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù†Ø®Ø¨Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©',
                features: ['100,000 Ù…Ø´Ø§Ù‡Ø¯Ø©', '5,000 Ù„Ø§ÙŠÙƒ', '500 Ø­ÙØ¸', '400 Ù…Ø´Ø§Ø±ÙƒØ©']
            },
            'package_vip': {
                title: 'Ø¨Ø§Ù‚Ø© VIP',
                price: 60,
                minQuantity: 1,
                description: 'Ø¨Ø§Ù‚Ø© VIP Ø§Ù„Ø­ØµØ±ÙŠØ©',
                features: ['250,000 Ù…Ø´Ø§Ù‡Ø¯Ø©', '10,000 Ù„Ø§ÙŠÙƒ', '1,000 Ø­ÙØ¸', '750 Ù…Ø´Ø§Ø±ÙƒØ©']
            },
            'package_premium': {
                title: 'Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²',
                price: 100,
                minQuantity: 1,
                description: 'Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ² Ø§Ù„ÙØ§Ø¦Ù‚Ø©',
                features: ['500,000 Ù…Ø´Ø§Ù‡Ø¯Ø©', '20,000 Ù„Ø§ÙŠÙƒ', '2,000 Ø­ÙØ¸', '1,500 Ù…Ø´Ø§Ø±ÙƒØ©']
            },
            'package_legend': {
                title: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø©',
                price: 180,
                minQuantity: 1,
                description: 'Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© Ù„Ø£ÙƒØ¨Ø± ØªÙØ§Ø¹Ù„',
                features: ['1,000,000 Ù…Ø´Ø§Ù‡Ø¯Ø©', '50,000 Ù„Ø§ÙŠÙƒ', '5,000 Ø­ÙØ¸', '3,000 Ù…Ø´Ø§Ø±ÙƒØ©']
            },
            'package_millionaire': {
                title: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ù„ÙŠÙˆÙ†ÙŠØ±',
                price: 300,
                minQuantity: 1,
                description: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ù„ÙŠÙˆÙ†ÙŠØ± Ù„ØªØ­Ø·ÙŠÙ… Ø§Ù„Ø£Ø±Ù‚Ø§Ù…',
                features: ['1,500,000 Ù…Ø´Ø§Ù‡Ø¯Ø©', '75,000 Ù„Ø§ÙŠÙƒ', '10,000 Ø­ÙØ¸', '5,000 Ù…Ø´Ø§Ø±ÙƒØ©']
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            showPage('home');
            
            // Add event listeners
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('signupForm').addEventListener('submit', handleSignup);
            document.getElementById('adminLoginForm').addEventListener('submit', handleAdminLogin);
            document.getElementById('balanceForm').addEventListener('submit', handleBalanceCharge);
            document.getElementById('balancePageForm').addEventListener('submit', handleBalanceCharge);
            document.getElementById('clearDataForm').addEventListener('submit', handleClearAllData);
            
            // Update discount timer
            setInterval(updateDiscountTimer, 1000);
            updateDiscountTimer();
            
            // Set discount end date
            const discountEndEl = document.getElementById('discountEndDate');
            if (discountEndEl) {
                discountEndEl.textContent = discountEndDate.toLocaleDateString('ar-EG');
            }
        });

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¤Ù‚Øª Ù„Ù„Ø®ØµÙ…
        function updateDiscountTimer() {
            if (!discountActive) return;
            
            const now = new Date();
            const diff = discountEndDate - now;
            
            if (diff <= 0) {
                discountActive = false;
                document.querySelectorAll('.discount-timer').forEach(timer => {
                    timer.textContent = 'Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø¹Ø±Ø¶!';
                });
                document.querySelectorAll('.discount-banner').forEach(banner => {
                    banner.style.display = 'none';
                });
                return;
            }
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            const formattedTime = `${days} ÙŠÙˆÙ… ${hours} Ø³Ø§Ø¹Ø© ${minutes} Ø¯Ù‚ÙŠÙ‚Ø© ${seconds} Ø«Ø§Ù†ÙŠØ©`;
            
            document.querySelectorAll('.discount-timer').forEach(timer => {
                timer.textContent = formattedTime;
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ
        function updateSupportBadge() {
            if (!currentUser) return;
            
            const newMessages = adminMessages.filter(msg => 
                msg.type === 'contact' && 
                msg.user === currentUser.phone && 
                (!msg.seenByUser || !msg.replies.some(r => r.seenByUser))
            ).length;
            
            const badge = document.getElementById('supportBadge');
            if (newMessages > 0) {
                badge.textContent = newMessages;
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø±Ø¨Ø­ Ø¹Ù†Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
        function addToProfitHistory(order) {
            const serviceCost = serviceCosts[order.serviceId] || 0;
            const profit = order.totalPrice - serviceCost;
            
            const profitEntry = {
                orderId: order.id,
                serviceName: order.serviceName,
                amount: profit,
                date: new Date().toLocaleString('ar-EG'),
                month: new Date().getMonth(),
                year: new Date().getFullYear()
            };
            
            profitHistory.push(profitEntry);
            saveUserData();
            
            // ØªØ­Ø¯ÙŠØ« ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
            calculateProfits();
        }
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©
        function calculateMonthlyProfits() {
            const now = new Date();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();
            const lastMonth = currentMonth === 0 ? 11 : currentMonth - 1;
            const lastMonthYear = currentMonth === 0 ? currentYear - 1 : currentYear;
            
            // Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
            const currentMonthProfit = profitHistory
                .filter(entry => 
                    entry.month === currentMonth && 
                    entry.year === currentYear)
                .reduce((sum, entry) => sum + entry.amount, 0);
            
            document.getElementById('monthlyProfit').textContent = currentMonthProfit.toFixed(2) + ' Ø¬Ù†ÙŠÙ‡';
            
            // Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ
            lastMonthProfit = profitHistory
                .filter(entry => 
                    entry.month === lastMonth && 
                    entry.year === lastMonthYear)
                .reduce((sum, entry) => sum + entry.amount, 0);
            
            document.getElementById('lastMonthProfit').textContent = lastMonthProfit.toFixed(2) + ' Ø¬Ù†ÙŠÙ‡';
            
            // Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ
            const lastMonthOrders = profitHistory
                .filter(entry => 
                    entry.month === lastMonth && 
                    entry.year === lastMonthYear);
            
            // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
            const totalProfit = profitHistory.reduce((sum, entry) => sum + entry.amount, 0);
            document.getElementById('totalProfit').textContent = totalProfit.toFixed(2) + ' Ø¬Ù†ÙŠÙ‡';
        }

        // Authentication functions
        function showLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function hideLoginModal() {
            document.getElementById('loginModal').classList.add('hidden');
        }

        function showSignupModal() {
            document.getElementById('signupModal').classList.remove('hidden');
        }

        function hideSignupModal() {
            document.getElementById('signupModal').classList.add('hidden');
        }

        function showTwoFactorModal() {
            hideLoginModal();
            document.getElementById('twoFactorModal').classList.remove('hidden');
        }

        function hideTwoFactorModal() {
            document.getElementById('twoFactorModal').classList.add('hidden');
        }

        function handleLogin(e) {
            e.preventDefault();
            
            const phone = document.getElementById('loginPhone').value;
            const password = document.getElementById('loginPassword').value;
            
            // Load all users data
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            
            // Check if user exists and password matches
            if (allUsersData[phone] && allUsersData[phone].password === password) {
                currentUser = {
                    name: allUsersData[phone].name,
                    phone: phone,
                    balance: allUsersData[phone].balance || 0
                };
                
                // Update UI
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('userInitial').textContent = currentUser.name.charAt(0);
                document.getElementById('userPhone').textContent = phone;
                
                updateBalanceDisplay();
                showUserProfile();
                hideLoginModal();
                saveUserData();
                showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
                
                // Reset form
                e.target.reset();
                
                // Update support badge
                updateSupportBadge();
            } else {
                showNotification('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
            }
        }

        // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
        function handleSignup(e) {
            e.preventDefault();
            
            const name = document.getElementById('signupName').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
            if (password !== confirmPassword) {
                showNotification('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©', 'error');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¨Ù‚Ø§Ù‹
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            if (allUsersData[phone]) {
                showNotification('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„', 'error');
                return;
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
            currentUser = {
                name: name,
                phone: phone,
                balance: 0,
                referralCode: generateReferralCode()
            };
            
            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            allUsersData[phone] = {
                name: name,
                password: password,
                balance: 0,
                registrationDate: new Date().toLocaleString('ar-EG'),
                referralCode: currentUser.referralCode
            };
            
            localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userInitial').textContent = currentUser.name.charAt(0);
            document.getElementById('userPhone').textContent = phone;
            
            updateBalanceDisplay();
            showUserProfile();
            hideSignupModal();
            saveUserData();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ© Ù…Ø¹ Ø±ØµÙŠØ¯ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©
            showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù† Ø¨Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø§ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰.', 'success');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            e.target.reset();
        }

        // Data management functions
        function saveUserData() {
            if (currentUser) {
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                localStorage.setItem('userOrders', JSON.stringify(userOrders));
                localStorage.setItem('adminOrders', JSON.stringify(adminOrders));
                localStorage.setItem('adminMessages', JSON.stringify(adminMessages));
                localStorage.setItem('isAdmin', isAdmin.toString());
                localStorage.setItem('balanceRequests', JSON.stringify(balanceRequests));
                localStorage.setItem('userEdits', JSON.stringify(userEdits));
                localStorage.setItem('totalBalanceCharged', totalBalanceCharged.toString());
                localStorage.setItem('serviceCosts', JSON.stringify(serviceCosts));
                localStorage.setItem('profitHistory', JSON.stringify(profitHistory));
                localStorage.setItem('discountEndDate', discountEndDate.toString());
            }
        }

        function loadUserData() {
            const savedUser = localStorage.getItem('currentUser');
            const savedOrders = localStorage.getItem('userOrders');
            const savedAdminOrders = localStorage.getItem('adminOrders');
            const savedAdminMessages = localStorage.getItem('adminMessages');
            const savedIsAdmin = localStorage.getItem('isAdmin');
            const savedBalanceRequests = localStorage.getItem('balanceRequests');
            const savedUserEdits = localStorage.getItem('userEdits');
            const savedTotalBalanceCharged = localStorage.getItem('totalBalanceCharged');
            const savedServiceCosts = localStorage.getItem('serviceCosts');
            const savedProfitHistory = localStorage.getItem('profitHistory');
            const savedDiscountEndDate = localStorage.getItem('discountEndDate');
            
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('userInitial').textContent = currentUser.name.charAt(0);
                document.getElementById('userPhone').textContent = currentUser.phone;
                updateBalanceDisplay();
                showUserProfile();
            }
            
            if (savedOrders) {
                userOrders = JSON.parse(savedOrders);
            }
            
            if (savedAdminOrders) {
                adminOrders = JSON.parse(savedAdminOrders);
            }
            
            if (savedAdminMessages) {
                adminMessages = JSON.parse(savedAdminMessages);
            }
            
            if (savedBalanceRequests) {
                balanceRequests = JSON.parse(savedBalanceRequests);
            }
            
            if (savedUserEdits) {
                userEdits = JSON.parse(savedUserEdits);
            }
            
            if (savedTotalBalanceCharged) {
                totalBalanceCharged = parseFloat(savedTotalBalanceCharged);
            }
            
            if (savedServiceCosts) {
                serviceCosts = JSON.parse(savedServiceCosts);
            }
            
            if (savedProfitHistory) {
                profitHistory = JSON.parse(savedProfitHistory);
            }
            
            if (savedDiscountEndDate) {
                discountEndDate = new Date(savedDiscountEndDate);
            }
            
            if (savedIsAdmin === 'true') {
                isAdmin = true;
                showAdminAccess();
            }
            
            // Load all users data
            allUsers = JSON.parse(localStorage.getItem('allUsersData')) || {};
        }

        function saveAllUsersData() {
            const allUsers = JSON.parse(localStorage.getItem('allUsersData')) || {};
            if (currentUser) {
                allUsers[currentUser.phone] = {
                    name: currentUser.name,
                    phone: currentUser.phone,
                    password: allUsers[currentUser.phone]?.password || '',
                    balance: currentUser.balance,
                    registrationDate: allUsers[currentUser.phone]?.registrationDate || new Date().toLocaleString('ar-EG'),
                    referralCode: currentUser.referralCode || generateReferralCode()
                };
            }
            localStorage.setItem('allUsersData', JSON.stringify(allUsers));
        }

        function updateBalanceDisplay() {
            if (currentUser) {
                const balanceValue = currentUser.balance.toFixed(2);
                document.getElementById('userBalance').textContent = `${balanceValue} Ø¬Ù†ÙŠÙ‡`;
                document.getElementById('currentBalance').textContent = balanceValue;
                
                // Update balance in header
                const balanceElement = document.getElementById('headerBalance');
                if (balanceElement) {
                    balanceElement.textContent = `Ø±ØµÙŠØ¯Ùƒ: ${balanceValue} Ø¬Ù†ÙŠÙ‡`;
                }
            }
        }

        // UI functions
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => page.classList.add('hidden'));
            
            // Hide admin dashboard
            document.getElementById('adminDashboard').classList.remove('show');
            
            // Show selected page
            document.getElementById(pageId + 'Page').classList.remove('hidden');
            
            // Update navigation
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('text-blue-400', 'border-b-2', 'border-blue-400');
                btn.classList.add('hover:text-blue-400');
            });
            
            // Load page-specific content
            if (pageId === 'orders') {
                loadUserOrdersPage();
            } else if (pageId === 'balance') {
                updateBalanceDisplay();
            } else if (pageId === 'referral') {
                loadReferralData();
            } else if (pageId === 'analytics') {
                loadAnalyticsData();
            } else if (pageId === 'contact') {
                loadContactPage();
            }
        }

        function loadContactPage() {
            if (currentUser) {
                document.getElementById('contactUserName').textContent = `Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${currentUser.name}`;
                document.getElementById('contactUserPhone').textContent = `Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: ${currentUser.phone}`;
                loadPreviousMessages();
            } else {
                document.getElementById('contactUserName').textContent = 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„';
                document.getElementById('contactUserPhone').textContent = '';
            }
        }

        function scrollToServices() {
            showPage('home');
            setTimeout(() => {
                document.getElementById('servicesSection').scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        function showUserProfile() {
            document.getElementById('userProfile').classList.remove('hidden');
            document.getElementById('authButtons').classList.add('hidden');
            updateBalanceDisplay();
        }

        function hideUserProfile() {
            document.getElementById('userProfile').classList.add('hidden');
            document.getElementById('authButtons').classList.remove('hidden');
        }

        function showAdminAccess() {
            document.getElementById('adminNav').classList.remove('hidden');
        }

        function hideAdminAccess() {
            document.getElementById('adminNav').classList.add('hidden');
        }

        function toggleUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('hidden');
        }

        function showAdminModal() {
            if (isAdmin) {
                showAdminDashboard();
            } else {
                document.getElementById('adminModal').classList.remove('hidden');
            }
        }

        function hideAdminModal() {
            document.getElementById('adminModal').classList.add('hidden');
        }

        function showBalanceModal() {
            document.getElementById('balanceModal').classList.remove('hidden');
        }

        function hideBalanceModal() {
            document.getElementById('balanceModal').classList.add('hidden');
        }

        function toggleVodafoneNumbers() {
            const paymentMethod = document.getElementById('paymentMethod').value;
            const vodafoneDiv = document.getElementById('vodafoneNumbers');
            
            if (paymentMethod === 'vodafone_cash') {
                vodafoneDiv.classList.remove('hidden');
            } else {
                vodafoneDiv.classList.add('hidden');
            }
        }

        function toggleBalancePageVodafoneNumbers() {
            const paymentMethod = document.getElementById('balancePagePaymentMethod').value;
            const vodafoneDiv = document.getElementById('balancePageVodafoneNumbers');
            
            if (paymentMethod === 'vodafone_cash') {
                vodafoneDiv.classList.remove('hidden');
            } else {
                vodafoneDiv.classList.add('hidden');
            }
        }

        // Service functions
        function showServiceDetails(serviceId) {
            const service = serviceData[serviceId];
            if (!service) return;
            
            const modal = document.getElementById('serviceDetailsModal');
            document.getElementById('serviceTitle').textContent = service.title;
            
            document.getElementById('serviceInfo').innerHTML = `
                <div class="space-y-4">
                    <div>
                        <h5 class="font-semibold mb-2">Ø§Ù„ÙˆØµÙ</h5>
                        <p class="text-slate-300">${service.description}</p>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <h5 class="font-semibold mb-2">Ø§Ù„Ø³Ø¹Ø±</h5>
                            <p class="text-2xl font-bold text-green-400">${service.price} Ø¬Ù†ÙŠÙ‡</p>
                        </div>
                        <div>
                            <h5 class="font-semibold mb-2">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰</h5>
                            <p class="text-lg font-semibold">${service.minQuantity.toLocaleString()}</p>
                        </div>
                    </div>
                    
                    <div>
                        <h5 class="font-semibold mb-2">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</h5>
                        <ul class="list-disc list-inside text-slate-300 space-y-1">
                            ${service.features.map(feature => `<li>${feature}</li>`).join("")}
                        </ul>
                    </div>
                </div>
            `;
            
            // Set current service for form
            document.getElementById('serviceOrderForm').dataset.serviceId = serviceId;
            
            // Show/hide quantity field for packages
            const quantityField = document.getElementById('quantityField');
            if (serviceId.startsWith('package_')) {
                quantityField.style.display = 'none';
                document.getElementById('quantity').value = 1;
            } else {
                quantityField.style.display = 'block';
                document.getElementById('quantity').value = service.minQuantity;
            }
            
            calculateTotalPrice();
            modal.classList.add('show');
        }

        function closeServiceModal() {
            document.getElementById('serviceDetailsModal').classList.remove('show');
        }

        function calculateTotalPrice() {
            const form = document.getElementById("serviceOrderForm");
            const serviceId = form.dataset.serviceId;
            const service = serviceData[serviceId];
            
            if (!service) return;
            
            const quantityInput = document.getElementById("quantity");
            let quantity = parseInt(quantityInput.value) || service.minQuantity;
            const quantityError = document.getElementById("quantityError");
            
            // Validate quantity against minQuantity only
            if (quantity < service.minQuantity) {
                quantityError.textContent = `Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰: ${service.minQuantity.toLocaleString()}`;
                quantityError.classList.remove("hidden");
                return;
            } else {
                quantityError.classList.add("hidden");
            }
            
            let totalPrice;
            if (serviceId.startsWith("package_")) {
                totalPrice = service.price * quantity;
            } else {
                const baseQuantity = parseInt(serviceId.includes('views') ? '10000' : 
                                           serviceId.includes('likes') ? '1000' : 
                                           serviceId.includes('saves') ? '100' : 
                                           serviceId.includes('shares') ? '100' : 
                                           serviceId.includes('followers') ? '1000' : '1');
                totalPrice = (service.price / baseQuantity) * quantity;
            }
            
            document.getElementById("totalPrice").textContent = `${totalPrice.toFixed(2)} Ø¬Ù†ÙŠÙ‡`;
        }

        function handleServiceOrder(e) {
            e.preventDefault();

            if (!currentUser) {
                showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨', 'error');
                return;
            }
            
            const form = e.target;
            const serviceId = form.dataset.serviceId;
            const service = serviceData[serviceId];
            
            if (!service) {
                showNotification('Ø®Ø·Ø£ ÙÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø©', 'error');
                return;
            }
            
            const contentLink = document.getElementById('contentLink').value;
            const quantity = parseInt(document.getElementById('quantity').value);
            const notes = document.getElementById('orderNotes').value;
            
            if (quantity < service.minQuantity) {
                showNotification(`Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ÙƒÙ…ÙŠØ©: ${service.minQuantity.toLocaleString()}`, 'error');
                return;
            }
            
            let totalPrice;
            if (serviceId.startsWith("package_")) {
                totalPrice = service.price * quantity;
            } else {
                const baseQuantity = parseInt(serviceId.includes('views') ? '10000' : 
                                           serviceId.includes('likes') ? '1000' : 
                                           serviceId.includes('saves') ? '100' : 
                                           serviceId.includes('shares') ? '100' : 
                                           serviceId.includes('followers') ? '1000' : '1');
                totalPrice = (service.price / baseQuantity) * quantity;
            }
            
            const finalPrice = parseFloat(totalPrice.toFixed(2));

            // Check balance before deduction
            if (currentUser.balance < finalPrice) {
                showNotification(`Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ. Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ: ${currentUser.balance.toFixed(2)} Ø¬Ù†ÙŠÙ‡`, 'error');
                return;
            }

            // Deduct amount from balance
            currentUser.balance = parseFloat((currentUser.balance - finalPrice).toFixed(2));
            updateBalanceDisplay();
            
            const order = {
                id: Date.now(),
                serviceId: serviceId,
                serviceName: service.title,
                contentLink: contentLink,
                quantity: quantity,
                totalPrice: finalPrice,
                notes: notes,
                status: 'pending',
                timestamp: new Date().toLocaleString('ar-EG'),
                user: currentUser.phone
            };
            
            userOrders.push(order);
            adminOrders.push(order);
            
            saveAllUsersData();
            saveUserData();
            
            closeServiceModal();
            showNotification(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ ÙˆØ®ØµÙ… ${finalPrice} Ø¬Ù†ÙŠÙ‡ Ù…Ù† Ø±ØµÙŠØ¯Ùƒ Ø¨Ù†Ø¬Ø§Ø­!`, 'success');
            
            form.reset();
        }

        // Order management functions
        function loadUserOrdersPage() {
            const ordersList = document.getElementById('userOrdersList');
            
            if (userOrders.length === 0) {
                ordersList.innerHTML = `
                    <div class="text-center py-12">
                        <div class="text-6xl mb-4">ğŸ“¦</div>
                        <h3 class="text-xl font-semibold mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</h3>
                        <p class="text-slate-400 mb-4">Ø§Ø¨Ø¯Ø£ Ø¨Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</p>
                        <button onclick="scrollToServices(); showPage('home');" class="btn-primary px-6 py-2 rounded-lg">
                            ØªØµÙØ­ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
                        </button>
                    </div>
                `;
                return;
            }
            
            const filteredOrders = userOrders.filter(order => {
                const statusFilter = document.getElementById('orderStatusFilter').value;
                return !statusFilter || order.status === statusFilter;
            });
            
            ordersList.innerHTML = filteredOrders.map(order => `
                <div class="order-card">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h4 class="font-semibold text-lg">${order.serviceName}</h4>
                            <p class="text-slate-400 text-sm">Ø·Ù„Ø¨ #${order.id}</p>
                        </div>
                        <span class="badge badge-${getStatusColor(order.status)}">${getStatusText(order.status)}</span>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„ÙƒÙ…ÙŠØ©:</span>
                            <span class="font-semibold">${order.quantity.toLocaleString()}</span>
                        </div>
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„Ø³Ø¹Ø±:</span>
                            <span class="font-semibold text-green-400">${order.totalPrice.toFixed(2)} Ø¬Ù†ÙŠÙ‡</span>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <span class="text-slate-400 text-sm">Ø§Ù„Ø±Ø§Ø¨Ø·:</span>
                        <a href="${order.contentLink}" target="_blank" class="text-blue-400 hover:underline text-sm break-all">
                            ${order.contentLink}
                        </a>
                    </div>
                    
                    ${order.notes ? `
                        <div class="mb-4">
                            <span class="text-slate-400 text-sm">Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</span>
                            <p class="text-sm">${order.notes}</p>
                        </div>
                    ` : ''}
                    
                    <div class="text-slate-400 text-sm">
                        ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨: ${order.timestamp}
                    </div>
                </div>
            `).join('');
        }

        function getStatusText(status) {
            const statusMap = {
                'pending': 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
                'processing': 'Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°',
                'completed': 'Ù…ÙƒØªÙ…Ù„',
                'cancelled': 'Ù…Ù„ØºÙŠ'
            };
            return statusMap[status] || status;
        }

        function getStatusColor(status) {
            const colorMap = {
                'pending': 'warning',
                'processing': 'info',
                'completed': 'success',
                'cancelled': 'error'
            };
            return colorMap[status] || 'info';
        }

        // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        function handleContactForm(e) {
            e.preventDefault();

            if (!currentUser) {
                showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©', 'error');
                return;
            }

            const submitButton = document.getElementById('contactSubmitBtn');
            submitButton.disabled = true;
            submitButton.classList.add('btn-disabled');

            const subject = document.getElementById('contactSubject').value;
            const message = document.getElementById('contactMessage').value;

            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
            const contactMessage = {
                id: Date.now(),
                type: 'contact',
                name: currentUser.name,
                phone: currentUser.phone,
                subject: subject,
                content: message,
                timestamp: new Date().toLocaleString('ar-EG'),
                user: currentUser.phone,
                status: 'new',
                replies: []
            };

            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
            adminMessages.push(contactMessage);
            saveUserData();

            showNotification('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'success');
            e.target.reset();
            
            // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
            loadPreviousMessages();
            updateSupportBadge();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ø²Ø± Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ© Ù„Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ØªÙƒØ±Ø±
            setTimeout(() => {
                submitButton.disabled = false;
                submitButton.classList.remove('btn-disabled');
            }, 2000);
        }

        function loadPreviousMessages() {
            const container = document.getElementById('previousMessages');
            if (!container || !currentUser) return;

            // Filter messages for current user
            const userMessages = adminMessages.filter(msg => 
                msg.type === 'contact' && msg.user === currentUser.phone
            );

            if (userMessages.length === 0) {
                container.innerHTML = '<p class="text-center text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</p>';
                return;
            }

            container.innerHTML = userMessages.map(msg => `
                <div class="message-thread">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold">${msg.subject}</h4>
                        <span class="text-slate-400 text-sm">${msg.timestamp}</span>
                    </div>
                    
                    <div class="user-message">
                        <div class="message-header">
                            <span>${msg.name}</span>
                            <span>${msg.timestamp}</span>
                        </div>
                        <p>${msg.content}</p>
                    </div>
                    
                    ${msg.replies && msg.replies.length > 0 ? 
                        msg.replies.map(reply => `
                            <div class="admin-reply">
                                <div class="message-header">
                                    <span>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</span>
                                    <span>${reply.timestamp}</span>
                                </div>
                                <p>${reply.content}</p>
                            </div>
                        `).join('') 
                    : `
                        <div class="text-slate-400 text-sm text-center py-4">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø¨Ø¹Ø¯</div>
                    `}
                </div>
            `).join('');
        }

        function handleBalanceCharge(e) {
            e.preventDefault();
            
            let amount, paymentMethod, transactionId, transferTo;
            
            // Check which form was submitted
            if (e.target.id === 'balanceForm') {
                amount = parseFloat(document.getElementById('chargeAmount').value);
                paymentMethod = document.getElementById('paymentMethod').value;
                transactionId = document.getElementById('transactionId').value;
                
                // Get selected Vodafone number
                const selectedRadio = document.querySelector('input[name="transferNumber"]:checked');
                if (selectedRadio) {
                    transferTo = selectedRadio.value;
                } else {
                    showNotification('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„', 'error');
                    return;
                }
            } else {
                amount = parseFloat(document.getElementById('balancePageAmount').value);
                paymentMethod = document.getElementById('balancePagePaymentMethod').value;
                transactionId = document.getElementById('balancePageTransactionId').value;
                
                // Get selected Vodafone number
                const selectedRadio = document.querySelector('input[name="balancePageTransferNumber"]:checked');
                if (selectedRadio) {
                    transferTo = selectedRadio.value;
                } else {
                    showNotification('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„', 'error');
                    return;
                }
            }
            
            if (!paymentMethod) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹', 'error');
                return;
            }
            
            const chargeRequest = {
                id: Date.now(),
                type: 'balance_charge',
                amount: amount,
                paymentMethod: paymentMethod,
                transactionId: transactionId,
                transferTo: transferTo, // Add the selected Vodafone number
                timestamp: new Date().toLocaleString('ar-EG'),
                user: currentUser ? currentUser.phone : 'guest',
                status: 'pending'
            };
            
            balanceRequests.push(chargeRequest);
            adminMessages.push(chargeRequest);
            saveUserData();
            
            // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ØªÙˆØ¶ÙŠØ­ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©
            showNotification(`
                ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø´Ø­Ù†! 
                Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø£Ø­Ø¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ§Ù„ÙŠØ©: 
                01013062296 Ø£Ùˆ 01554887765
                Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„ØŒ Ø³ÙŠÙ‚ÙˆÙ… ÙØ±ÙŠÙ‚Ù†Ø§ Ø¨ØªØ£ÙƒÙŠØ¯ Ø´Ø­Ù† Ø±ØµÙŠØ¯Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª.
                Ø´ÙƒØ±Ù‹Ø§ Ù„ØµØ¨Ø±Ùƒ.
            `, 'info');
            
            e.target.reset();
            if (e.target.id === 'balanceForm') {
                document.getElementById('vodafoneNumbers').classList.add('hidden');
                hideBalanceModal();
            } else {
                document.getElementById('balancePageVodafoneNumbers').classList.add('hidden');
            }
        }

        // Referral system functions
        function loadReferralData() {
            document.getElementById('referralCount').textContent = '5';
            document.getElementById('referralEarnings').textContent = '50';
            document.getElementById('pendingEarnings').textContent = '20';
            document.getElementById('referralLink').value = `https://taf3el.com?ref=${currentUser.referralCode}`;
        }

        function generateReferralCode() {
            return 'TAF' + Math.floor(100000 + Math.random() * 900000);
        }

        function copyReferralLink() {
            const linkInput = document.getElementById('referralLink');
            linkInput.select();
            document.execCommand('copy');
            showNotification('ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }

        // Analytics functions
        function loadAnalyticsData() {
            document.getElementById('totalSpent').textContent = '350';
            document.getElementById('completedOrders').textContent = '42';
            document.getElementById('referralAnalytics').textContent = '5';
        }

        // Admin functions
        function handleAdminLogin(e) {
            e.preventDefault();
            
            const password = document.getElementById('adminPassword').value;
            
            if (password === 'kimo777kimo' || password === 'ahmed777ahmed') {
                isAdmin = true;
                localStorage.setItem('isAdmin', 'true');
                showAdminAccess();
                hideAdminModal();
                showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­', 'success');
                showAdminDashboard();
            } else {
                showNotification('ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©', 'error');
            }
            
            e.target.reset();
        }

        function showAdminDashboard() {
            // Hide all pages
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => page.classList.add('hidden'));
            
            // Show admin dashboard
            document.getElementById('adminDashboard').classList.add('show');
            
            // Load admin data
            loadAdminStats();
            showAdminTab('newOrders');
        }

        function loadAdminStats() {
            // Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
            const newOrdersCount = adminOrders.filter(o => o.status === 'pending').length;
            document.getElementById('adminNewOrdersCount').textContent = newOrdersCount;
            
            // Ø·Ù„Ø¨Ø§Øª Ù†Ø´Ø·Ø©
            const activeOrders = adminOrders.filter(o => o.status === 'processing').length;
            document.getElementById('adminActiveOrders').textContent = activeOrders;
            
            // Ø·Ù„Ø¨Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©
            const completedOrders = adminOrders.filter(o => o.status === 'completed').length;
            document.getElementById('adminCompletedOrders').textContent = completedOrders;
            
            // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
            const allUsers = JSON.parse(localStorage.getItem('allUsersData')) || {};
            document.getElementById('adminTotalUsers').textContent = Object.keys(allUsers).length;
            
            // Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø¯ÙŠØ¯Ø©
            const contactMessages = adminMessages.filter(m => m.type === 'contact' && m.status === 'new');
            document.getElementById('adminNewMessagesCount').textContent = contactMessages.length;
            
            // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯
            const totalBalance = balanceRequests
                .filter(req => req.status === 'completed')
                .reduce((sum, req) => sum + parseFloat(req.amount), 0);
            document.getElementById('adminTotalBalance').textContent = totalBalance.toFixed(2);
            
            // Ø·Ù„Ø¨Ø§Øª Ø´Ø­Ù† Ø¬Ø¯ÙŠØ¯Ø©
            const newBalanceRequests = balanceRequests.filter(req => req.status === 'pending').length;
            document.getElementById('adminNewBalanceRequests').textContent = newBalanceRequests;
        }

        function showAdminTab(tabName, buttonElement) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.admin-tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            
            // Show selected tab
            const selectedTab = document.getElementById(`admin${tabName.charAt(0).toUpperCase() + tabName.slice(1)}Tab`);
            if (selectedTab) {
                selectedTab.classList.remove('hidden');
            }

            // Update tab buttons styling
            const tabButtons = document.querySelectorAll('.admin-tab');
            tabButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (buttonElement) {
                buttonElement.classList.add('active');
            }
            
            // Load the correct data for the selected tab
            if (tabName === 'newOrders') {
                loadNewOrdersTab();
            } else if (tabName === 'active') {
                loadActiveOrdersTab();
            } else if (tabName === 'completedOrders') {
                loadCompletedOrdersTab();
            } else if (tabName === 'balanceRequests') {
                loadBalanceRequestsTab();
            } else if (tabName === 'completedBalanceRequests') {
                loadCompletedBalanceRequestsTab();
            } else if (tabName === 'contactMessages') {
                loadContactMessagesTab();
            } else if (tabName === 'completedMessages') {
                loadCompletedMessagesTab();
            } else if (tabName === 'customers') {
                loadCustomersTab();
            } else if (tabName === 'profits') {
                loadProfitsTab();
            }
        }

        function loadNewOrdersTab() {
            const ordersList = document.getElementById('adminNewOrdersList');
            const newOrders = adminOrders.filter(order => order.status === 'pending');
            
            if (newOrders.length === 0) {
                ordersList.innerHTML = '<p class="text-center text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</p>';
                return;
            }
            
            ordersList.innerHTML = newOrders.map(order => `
                <div class="admin-card">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h4 class="font-semibold text-lg">${order.serviceName}</h4>
                            <p class="text-slate-400 text-sm">Ø·Ù„Ø¨ #${order.id} - ${order.user}</p>
                        </div>
                        <span class="badge badge-warning">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</span>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-4 mb-4">
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„ÙƒÙ…ÙŠØ©:</span>
                            <span class="font-semibold">${order.quantity.toLocaleString()}</span>
                        </div>
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„Ø³Ø¹Ø±:</span>
                            <span class="font-semibold text-green-400">${order.totalPrice.toFixed(2)} Ø¬Ù†ÙŠÙ‡</span>
                        </div>
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                            <span class="text-sm">${order.timestamp}</span>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <span class="text-slate-400 text-sm">Ø§Ù„Ø±Ø§Ø¨Ø·:</span>
                        <a href="${order.contentLink}" target="_blank" class="text-blue-400 hover:underline text-sm break-all">
                            ${order.contentLink}
                        </a>
                    </div>
                    
                    ${order.notes ? `
                        <div class="mb-4">
                            <span class="text-slate-400 text-sm">Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</span>
                            <p class="text-sm">${order.notes}</p>
                        </div>
                    ` : ''}
                    
                    <div class="flex space-x-2 rtl:space-x-reverse">
                        <button onclick="approveOrder(${order.id})" class="btn-primary px-4 py-2 rounded-lg text-sm">
                            Ù‚Ø¨ÙˆÙ„
                        </button>
                        <button onclick="rejectOrder(${order.id})" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-sm transition-colors">
                            Ø±ÙØ¶
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadActiveOrdersTab() {
            const ordersList = document.getElementById('activeOrdersList');
            const activeOrders = adminOrders.filter(order => order.status === 'processing');
            
            if (activeOrders.length === 0) {
                ordersList.innerHTML = '<p class="text-center text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù†Ø´Ø·Ø©</p>';
                return;
            }
            
            ordersList.innerHTML = activeOrders.map(order => `
                <div class="admin-card">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h4 class="font-semibold text-lg">${order.serviceName}</h4>
                            <p class="text-slate-400 text-sm">Ø·Ù„Ø¨ #${order.id} - ${order.user}</p>
                        </div>
                        <span class="badge badge-info">Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°</span>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-4 mb-4">
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„ÙƒÙ…ÙŠØ©:</span>
                            <span class="font-semibold">${order.quantity.toLocaleString()}</span>
                        </div>
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„Ø³Ø¹Ø±:</span>
                            <span class="font-semibold text-green-400">${order.totalPrice.toFixed(2)} Ø¬Ù†ÙŠÙ‡</span>
                        </div>
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                            <span class="text-sm">${order.timestamp}</span>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <span class="text-slate-400 text-sm">Ø§Ù„Ø±Ø§Ø¨Ø·:</span>
                        <a href="${order.contentLink}" target="_blank" class="text-blue-400 hover:underline text-sm break-all">
                            ${order.contentLink}
                        </a>
                    </div>
                    
                    <div class="flex space-x-2 rtl:space-x-reverse">
                        <button onclick="completeOrder(${order.id})" class="btn-primary px-4 py-2 rounded-lg text-sm">
                            ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
                        </button>
                        <button onclick="cancelOrder(${order.id})" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-sm">
                            Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadCompletedOrdersTab() {
            const ordersList = document.getElementById('completedOrdersList');
            const completedOrders = adminOrders.filter(order => order.status === 'completed');
            
            if (completedOrders.length === 0) {
                ordersList.innerHTML = '<p class="text-center text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</p>';
                return;
            }
            
            ordersList.innerHTML = completedOrders.map(order => `
                <div class="admin-card">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h4 class="font-semibold text-lg">${order.serviceName}</h4>
                            <p class="text-slate-400 text-sm">Ø·Ù„Ø¨ #${order.id} - ${order.user}</p>
                        </div>
                        <span class="badge badge-success">Ù…ÙƒØªÙ…Ù„</span>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-4 mb-4">
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„ÙƒÙ…ÙŠØ©:</span>
                            <span class="font-semibold">${order.quantity.toLocaleString()}</span>
                        </div>
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„Ø³Ø¹Ø±:</span>
                            <span class="font-semibold text-green-400">${order.totalPrice.toFixed(2)} Ø¬Ù†ÙŠÙ‡</span>
                        </div>
                        <div>
                            <span class="text-slate-400 text-sm">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                            <span class="text-sm">${order.timestamp}</span>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <span class="text-slate-400 text-sm">Ø§Ù„Ø±Ø§Ø¨Ø·:</span>
                        <a href="${order.contentLink}" target="_blank" class="text-blue-400 hover:underline text-sm break-all">
                            ${order.contentLink}
                        </a>
                    </div>
                    
                    ${order.notes ? `
                        <div class="mb-4">
                            <span class="text-slate-400 text-sm">Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</span>
                            <p class="text-sm">${order.notes}</p>
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function loadBalanceRequestsTab() {
            const requestsList = document.getElementById('balanceRequestsList');
            const pendingRequests = balanceRequests.filter(req => req.status === 'pending');
            
            if (pendingRequests.length === 0) {
                requestsList.innerHTML = '<p class="text-center text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø´Ø­Ù† Ø¬Ø¯ÙŠØ¯Ø©</p>';
                return;
            }
            
            requestsList.innerHTML = pendingRequests.map(request => `
                <div class="admin-card">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-semibold">Ø·Ù„Ø¨ Ø´Ø­Ù† Ø±ØµÙŠØ¯</h4>
                        <span class="text-slate-400 text-sm">${request.timestamp}</span>
                    </div>
                    
                    <div class="space-y-2 text-sm mb-4">
                        <div><span class="text-slate-400">Ø§Ù„Ù…Ø¨Ù„Øº:</span> ${request.amount} Ø¬Ù†ÙŠÙ‡</div>
                        <div><span class="text-slate-400">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</span> ${request.paymentMethod}</div>
                        <div><span class="text-slate-400">ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰:</span> ${request.transferTo}</div>
                        <div><span class="text-slate-400">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</span> ${request.user}</div>
                        <div><span class="text-slate-400">Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„:</span> ${request.transactionId}</div>
                    </div>
                    
                    <div class="flex space-x-2 rtl:space-x-reverse">
                        <button onclick="approveBalanceRequest(${request.id})" class="btn-primary px-4 py-2 rounded-lg text-sm">
                            Ù‚Ø¨ÙˆÙ„
                        </button>
                        <button onclick="rejectBalanceRequest(${request.id})" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-sm transition-colors">
                            Ø±ÙØ¶
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadCompletedBalanceRequestsTab() {
            const requestsList = document.getElementById('completedBalanceRequestsList');
            const completedRequests = balanceRequests.filter(req => req.status === 'completed' || req.status === 'cancelled');
            
            if (completedRequests.length === 0) {
                requestsList.innerHTML = '<p class="text-center text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø´Ø­Ù† Ù…ÙƒØªÙ…Ù„Ø©</p>';
                return;
            }
            
            requestsList.innerHTML = completedRequests.map(request => `
                <div class="admin-card">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-semibold">Ø·Ù„Ø¨ Ø´Ø­Ù† Ø±ØµÙŠØ¯</h4>
                        <span class="text-slate-400 text-sm">${request.timestamp}</span>
                    </div>
                    
                    <div class="space-y-2 text-sm mb-4">
                        <div><span class="text-slate-400">Ø§Ù„Ù…Ø¨Ù„Øº:</span> ${request.amount} Ø¬Ù†ÙŠÙ‡</div>
                        <div><span class="text-slate-400">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</span> ${request.paymentMethod}</div>
                        <div><span class="text-slate-400">ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰:</span> ${request.transferTo}</div>
                        <div><span class="text-slate-400">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</span> ${request.user}</div>
                        <div><span class="text-slate-400">Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„:</span> ${request.transactionId}</div>
                        <div><span class="text-slate-400">Ø§Ù„Ø­Ø§Ù„Ø©:</span> 
                            <span class="${request.status === 'completed' ? 'text-green-400' : 'text-red-400'}">
                                ${request.status === 'completed' ? 'Ù…ÙƒØªÙ…Ù„' : 'Ù…Ù„ØºÙŠ'}
                            </span>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function loadContactMessagesTab() {
            const messagesList = document.getElementById('contactMessagesList');
            const contactMessages = adminMessages.filter(msg => msg.type === 'contact' && msg.status === 'new');
            
            if (contactMessages.length === 0) {
                messagesList.innerHTML = '<p class="text-center text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø¯ÙŠØ¯Ø©</p>';
                return;
            }
            
            messagesList.innerHTML = contactMessages.map(msg => `
                <div class="admin-card">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-semibold">${msg.subject}</h4>
                        <span class="text-slate-400 text-sm">${msg.timestamp}</span>
                    </div>
                    
                    <div class="space-y-2 text-sm mb-4">
                        <div><span class="text-slate-400">Ø§Ù„Ø§Ø³Ù…:</span> ${msg.name}</div>
                        <div><span class="text-slate-400">Ø§Ù„Ù‡Ø§ØªÙ:</span> ${msg.phone}</div>
                        <div><span class="text-slate-400">Ø§Ù„Ø±Ø³Ø§Ù„Ø©:</span> ${msg.content}</div>
                    </div>
                    
                    ${msg.replies && msg.replies.length > 0 ? `
                        <div class="reply-section">
                            <h5 class="font-semibold mb-2">Ø§Ù„Ø±Ø¯ÙˆØ¯:</h5>
                            ${msg.replies.map(reply => `
                                <div class="mb-2">
                                    <div class="font-semibold">${reply.admin}</div>
                                    <div>${reply.content}</div>
                                    <div class="text-slate-400 text-sm">${reply.timestamp}</div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                    
                    <div class="mt-4">
                        <textarea id="reply-${msg.id}" class="form-input w-full mb-2" placeholder="Ø§ÙƒØªØ¨ Ø±Ø¯Ù‹Ø§..."></textarea>
                        <div class="flex space-x-2 rtl:space-x-reverse">
                            <button onclick="sendReply('${msg.id}')" class="btn-primary flex-1 py-2">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯</button>
                            <button onclick="completeMessage('${msg.id}')" class="bg-green-600 hover:bg-green-700 flex-1 py-2">ØªÙ… Ø§Ù„Ø±Ø¯</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function loadCompletedMessagesTab() {
            const messagesList = document.getElementById('completedMessagesList');
            const contactMessages = adminMessages.filter(msg => msg.type === 'contact' && msg.status === 'completed');
            
            if (contactMessages.length === 0) {
                messagesList.innerHTML = '<p class="text-center text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø³Ø§Ø¦Ù„ Ù…ÙƒØªÙ…Ù„Ø©</p>';
                return;
            }
            
            messagesList.innerHTML = contactMessages.map(msg => `
                <div class="admin-card message-replied">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-semibold">${msg.subject}</h4>
                        <span class="text-slate-400 text-sm">${msg.timestamp}</span>
                    </div>
                    
                    <div class="space-y-2 text-sm mb-4">
                        <div><span class="text-slate-400">Ø§Ù„Ø§Ø³Ù…:</span> ${msg.name}</div>
                        <div><span class="text-slate-400">Ø§Ù„Ù‡Ø§ØªÙ:</span> ${msg.phone}</div>
                        <div><span class="text-slate-400">Ø§Ù„Ø±Ø³Ø§Ù„Ø©:</span> ${msg.content}</div>
                    </div>
                    
                    ${msg.replies && msg.replies.length > 0 ? `
                        <div class="reply-section">
                            <h5 class="font-semibold mb-2">Ø§Ù„Ø±Ø¯ÙˆØ¯:</h5>
                            ${msg.replies.map(reply => `
                                <div class="mb-2">
                                    <div class="font-semibold">${reply.admin}</div>
                                    <div>${reply.content}</div>
                                    <div class="text-slate-400 text-sm">${reply.timestamp}</div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                    
                    <div class="mt-4 flex justify-between items-center">
                        <span class="text-green-400"><i class="fas fa-check-circle mr-1"></i> ØªÙ… Ø§Ù„Ø±Ø¯</span>
                        <button onclick="reopenMessage('${msg.id}')" class="text-blue-400 hover:text-blue-300 text-sm">
                            Ø¥Ø¹Ø§Ø¯Ø© ÙØªØ­
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadCustomersTab() {
            const tableBody = document.getElementById('customersTableBody');
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            
            if (Object.keys(allUsersData).length === 0) {
                tableBody.innerHTML = '<tr><td colspan="6" class="text-center text-slate-400 p-8">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù…Ù„Ø§Ø¡</td></tr>';
                return;
            }
            
            tableBody.innerHTML = Object.entries(allUsersData).map(([phone, userData]) => {
                const userOrdersCount = adminOrders.filter(order => order.user === phone).length;
                
                return `
                    <tr class="hover:bg-slate-600/30">
                        <td class="p-4 relative">
                            ${userData.name}
                            ${userData.lastEdit ? `<span class="edit-indicator">Ù…Ø¹Ø¯Ù„</span>` : ''}
                        </td>
                        <td class="p-4">${phone}</td>
                        <td class="p-4 text-green-400">${userData.balance?.toFixed(2) || '0.00'} Ø¬Ù†ÙŠÙ‡</td>
                        <td class="p-4">${userOrdersCount}</td>
                        <td class="p-4 text-sm text-slate-400">${userData.registrationDate || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</td>
                        <td class="p-4 flex flex-wrap gap-2">
                            <button onclick="addBalance('${phone}')" class="admin-action-btn add-balance-btn">Ø¥Ø¶Ø§ÙØ© Ø±ØµÙŠØ¯</button>
                            <button onclick="withdrawBalance('${phone}')" class="admin-action-btn withdraw-btn">Ø³Ø­Ø¨ Ø±ØµÙŠØ¯</button>
                            <button onclick="trackCustomer('${phone}')" class="admin-action-btn tracking-btn">ØªØªØ¨Ø¹</button>
                            <button onclick="deleteCustomer('${phone}')" class="admin-action-btn delete-btn">Ø­Ø°Ù</button>
                            <button onclick="toggleAdminStatus('${phone}')" class="admin-action-btn admin-btn">
                                ${userData.isAdmin ? 'Ø¥Ù„ØºØ§Ø¡ Ù…Ø³Ø¤ÙˆÙ„' : 'ØªØ¹ÙŠÙŠÙ† Ù…Ø³Ø¤ÙˆÙ„'}
                            </button>
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        function startChat(phone) {
            showAdminTab('contactMessages');
            showNotification(`ØªÙ… ÙØªØ­ Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ Ø§Ù„Ø¹Ù…ÙŠÙ„: ${phone}`, 'info');
        }
        
        function trackCustomer(phone) {
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            const user = allUsersData[phone];
            
            if (user) {
                const userInfo = `
                    Ø§Ù„Ø§Ø³Ù…: ${user.name}
                    Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: ${phone}
                    Ø§Ù„Ø±ØµÙŠØ¯: ${user.balance?.toFixed(2) || '0.00'} Ø¬Ù†ÙŠÙ‡
                    ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„: ${user.registrationDate || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
                    Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: ${adminOrders.filter(order => order.user === phone).length}
                `;
                
                alert(`Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØªØ¨Ø¹:\n\n${userInfo}`);
            }
        }
        
        function loadProfitsTab() {
            // ØªØ­Ø¯ÙŠØ« Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªÙƒÙ„ÙØ© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
            document.getElementById('costViews10k').value = serviceCosts['views_10k'];
            document.getElementById('costLikes1k').value = serviceCosts['likes_1k'];
            document.getElementById('costSaves100').value = serviceCosts['saves_100'];
            document.getElementById('costShares100').value = serviceCosts['shares_100'];
            document.getElementById('costComment25').value = serviceCosts['comment_25'];
            document.getElementById('costFollowers1k').value = serviceCosts['followers_1k'];
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØªØ¨ÙˆÙŠØ¨
            calculateProfits();
            calculateMonthlyProfits();
        }
        
        function calculateProfits() {
            // ØªØ­Ø¯ÙŠØ« ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
            serviceCosts['views_10k'] = parseFloat(document.getElementById('costViews10k').value) || 0;
            serviceCosts['likes_1k'] = parseFloat(document.getElementById('costLikes1k').value) || 0;
            serviceCosts['saves_100'] = parseFloat(document.getElementById('costSaves100').value) || 0;
            serviceCosts['shares_100'] = parseFloat(document.getElementById('costShares100').value) || 0;
            serviceCosts['comment_25'] = parseFloat(document.getElementById('costComment25').value) || 0;
            serviceCosts['followers_1k'] = parseFloat(document.getElementById('costFollowers1k').value) || 0;
            
            // Ø­Ø³Ø§Ø¨ ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            serviceCosts['package_beginner'] = 
                (serviceCosts['views_10k'] * 0.75) + 
                (serviceCosts['likes_1k'] * 0.5) + 
                (serviceCosts['saves_100'] * 0.5) + 
                (serviceCosts['shares_100'] * 0.3);
                
            serviceCosts['package_basic'] = 
                (serviceCosts['views_10k'] * 1.35) + 
                (serviceCosts['likes_1k'] * 0.75) + 
                (serviceCosts['saves_100'] * 1) + 
                (serviceCosts['shares_100'] * 0.8);
                
            serviceCosts['package_intensive'] = 
                (serviceCosts['views_10k'] * 2.5) + 
                (serviceCosts['likes_1k'] * 1.25) + 
                (serviceCosts['saves_100'] * 2) + 
                (serviceCosts['shares_100'] * 1.3);
                
            serviceCosts['package_focused'] = 
                (serviceCosts['views_10k'] * 5) + 
                (serviceCosts['likes_1k'] * 2.5) + 
                (serviceCosts['saves_100'] * 3) + 
                (serviceCosts['shares_100'] * 2.5);
                
            serviceCosts['package_elite'] = 
                (serviceCosts['views_10k'] * 10) + 
                (serviceCosts['likes_1k'] * 5) + 
                (serviceCosts['saves_100'] * 5) + 
                (serviceCosts['shares_100'] * 4);
                
            serviceCosts['package_vip'] = 
                (serviceCosts['views_10k'] * 25) + 
                (serviceCosts['likes_1k'] * 10) + 
                (serviceCosts['saves_100'] * 10) + 
                (serviceCosts['shares_100'] * 7.5);
                
            serviceCosts['package_premium'] = 
                (serviceCosts['views_10k'] * 50) + 
                (serviceCosts['likes_1k'] * 20) + 
                (serviceCosts['saves_100'] * 20) + 
                (serviceCosts['shares_100'] * 15);
                
            serviceCosts['package_legend'] = 
                (serviceCosts['views_10k'] * 100) + 
                (serviceCosts['likes_1k'] * 50) + 
                (serviceCosts['saves_100'] * 50) + 
                (serviceCosts['shares_100'] * 30);
                
            serviceCosts['package_millionaire'] = 
                (serviceCosts['views_10k'] * 150) + 
                (serviceCosts['likes_1k'] * 75) + 
                (serviceCosts['saves_100'] * 100) + 
                (serviceCosts['shares_100'] * 50);
            
            // Ø­ÙØ¸ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
            saveUserData();
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ù„ÙƒÙ„ Ø®Ø¯Ù…Ø© (Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ… ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´)
            const profitData = [
                { service: '10,000 Ù…Ø´Ø§Ù‡Ø¯Ø©', price: 5, cost: serviceCosts['views_10k'] },
                { service: '1,000 Ù„Ø§ÙŠÙƒ', price: 10, cost: serviceCosts['likes_1k'] },
                { service: '100 Ø­ÙØ¸', price: 2, cost: serviceCosts['saves_100'] },
                { service: '100 Ù…Ø´Ø§Ø±ÙƒØ©', price: 1, cost: serviceCosts['shares_100'] },
                { service: '25 ÙƒÙˆÙ…Ù†Øª', price: 5, cost: serviceCosts['comment_25'] },
                { service: '1000 Ù…ØªØ§Ø¨Ø¹', price: 100, cost: serviceCosts['followers_1k'] },
                { service: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø¨ØªØ¯Ø¦', price: 5, cost: serviceCosts['package_beginner'] },
                { service: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø§Ø³', price: 7.5, cost: serviceCosts['package_basic'] },
                { service: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ù…ÙƒØ«Ù', price: 10, cost: serviceCosts['package_intensive'] },
                { service: 'Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø±ÙƒØ²', price: 20, cost: serviceCosts['package_focused'] },
                { service: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù†Ø®Ø¨Ø©', price: 35, cost: serviceCosts['package_elite'] },
                { service: 'Ø¨Ø§Ù‚Ø© VIP', price: 60, cost: serviceCosts['package_vip'] },
                { service: 'Ø¨Ø§Ù‚Ø© Ø§Ù„ØªÙ…ÙŠØ²', price: 100, cost: serviceCosts['package_premium'] },
                { service: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø©', price: 180, cost: serviceCosts['package_legend'] },
                { service: 'Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ù„ÙŠÙˆÙ†ÙŠØ±', price: 300, cost: serviceCosts['package_millionaire'] }
            ];
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„
            const profitReportTable = document.getElementById('profitReportTable');
            profitReportTable.innerHTML = profitData.map(item => {
                const profit = item.price - item.cost;
                const profitPercentage = (profit / item.price) * 100;
                const monthNames = ["ÙŠÙ†Ø§ÙŠØ±", "ÙØ¨Ø±Ø§ÙŠØ±", "Ù…Ø§Ø±Ø³", "Ø£Ø¨Ø±ÙŠÙ„", "Ù…Ø§ÙŠÙˆ", "ÙŠÙˆÙ†ÙŠÙˆ", "ÙŠÙˆÙ„ÙŠÙˆ", "Ø£ØºØ³Ø·Ø³", "Ø³Ø¨ØªÙ…Ø¨Ø±", "Ø£ÙƒØªÙˆØ¨Ø±", "Ù†ÙˆÙÙ…Ø¨Ø±", "Ø¯ÙŠØ³Ù…Ø¨Ø±"];
                const currentMonth = new Date().getMonth();
                
                return `
                    <tr>
                        <td class="p-4">${item.service}</td>
                        <td class="p-4">${item.price.toFixed(2)} Ø¬Ù†ÙŠÙ‡</td>
                        <td class="p-4">${item.cost.toFixed(2)} Ø¬Ù†ÙŠÙ‡</td>
                        <td class="p-4 ${profit >= 0 ? 'text-green-400' : 'text-red-400'}">
                            ${profit.toFixed(2)} Ø¬Ù†ÙŠÙ‡
                        </td>
                        <td class="p-4">${profitPercentage.toFixed(1)}%</td>
                        <td class="p-4">${monthNames[currentMonth]}</td>
                    </tr>
                `;
            }).join('');
            
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }
        
        function addBalance(phone) {
            const amount = prompt('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ø¥Ø¶Ø§ÙØªÙ‡:');
            if (!amount || isNaN(amount) || parseFloat(amount) <= 0) {
                showNotification('Ø§Ù„Ù…Ø¨Ù„Øº ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
                return;
            }
            
            const parsedAmount = parseFloat(amount);
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            const user = allUsersData[phone];
            
            if (!user) {
                showNotification('Ø§Ù„Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                return;
            }
            
            const reason = prompt('Ø§Ù„Ø³Ø¨Ø¨:');
            if (!reason) return;
            
            user.balance = parseFloat((user.balance + parsedAmount).toFixed(2));
            
            // ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯
            totalBalanceCharged = parseFloat((totalBalanceCharged + parsedAmount).toFixed(2));
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
            if (!user.balanceHistory) user.balanceHistory = [];
            user.balanceHistory.push({
                amount: parsedAmount,
                type: 'deposit',
                date: new Date().toLocaleString('ar-EG'),
                note: reason
            });
            
            localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ùˆ Ø§Ù„Ø­Ø§Ù„ÙŠ
            if (currentUser && currentUser.phone === phone) {
                currentUser.balance = user.balance;
                updateBalanceDisplay();
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
            loadAdminStats();
            
            showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${parsedAmount} Ø¬Ù†ÙŠÙ‡ Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„`, 'success');
            loadCustomersTab();
        }

        function approveOrder(orderId) {
            const order = adminOrders.find(o => o.id === orderId);
            if (order) {
                order.status = 'processing';
                
                const userOrder = userOrders.find(o => o.id === orderId);
                if (userOrder) {
                    userOrder.status = 'processing';
                }
                
                saveUserData();
                loadNewOrdersTab();
                loadActiveOrdersTab();
                showNotification('ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ¨Ø¯Ø¡ Ø§Ù„ØªÙ†ÙÙŠØ°', 'success');
            }
        }

        function rejectOrder(orderId) {
            const orderIndex = adminOrders.findIndex(o => o.id === orderId);
            if (orderIndex === -1) return;

            const order = adminOrders[orderIndex];
            
            // Restore balance to user
            const allUsers = JSON.parse(localStorage.getItem('allUsersData')) || {};
            const orderUser = allUsers[order.user];

            if (orderUser) {
                orderUser.balance = parseFloat((orderUser.balance + order.totalPrice).toFixed(2));
                localStorage.setItem('allUsersData', JSON.stringify(allUsers));
                
                // If the rejected order user is the current user, update the interface
                if (currentUser && currentUser.phone === order.user) {
                    currentUser.balance = orderUser.balance;
                    updateBalanceDisplay();
                }
            }

            order.status = 'cancelled';
            
            const userOrder = userOrders.find(o => o.id === orderId);
            if (userOrder) {
                userOrder.status = 'cancelled';
            }
            
            saveUserData();
            loadNewOrdersTab();
            showNotification(`ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨ #${orderId} ÙˆØ¥Ø¹Ø§Ø¯Ø© Ù…Ø¨Ù„Øº ${order.totalPrice} Ø¬Ù†ÙŠÙ‡ Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….`, 'info');
        }

        function completeOrder(orderId) {
            const order = adminOrders.find(o => o.id === orderId);
            if (order) {
                order.status = 'completed';
                
                const userOrder = userOrders.find(o => o.id === orderId);
                if (userOrder) {
                    userOrder.status = 'completed';
                }
                
                // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø¨Ø­ ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®
                addToProfitHistory(order);
                
                saveUserData();
                loadActiveOrdersTab();
                loadCompletedOrdersTab();
                showNotification('ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }
        }
        
        function cancelOrder(orderId) {
            const order = adminOrders.find(o => o.id === orderId);
            if (order) {
                order.status = 'cancelled';
                
                const userOrder = userOrders.find(o => o.id === orderId);
                if (userOrder) {
                    userOrder.status = 'cancelled';
                }
                
                // Restore balance to user
                const allUsers = JSON.parse(localStorage.getItem('allUsersData')) || {};
                const orderUser = allUsers[order.user];
                if (orderUser) {
                    orderUser.balance = parseFloat((orderUser.balance + order.totalPrice).toFixed(2));
                    localStorage.setItem('allUsersData', JSON.stringify(allUsers));
                    
                    // If the canceled order user is the current user, update the interface
                    if (currentUser && currentUser.phone === order.user) {
                        currentUser.balance = orderUser.balance;
                        updateBalanceDisplay();
                    }
                }
                
                saveUserData();
                loadActiveOrdersTab();
                loadUserOrdersPage();
                showNotification('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }
        }

        function approveBalanceRequest(requestId) {
            const requestIndex = balanceRequests.findIndex(r => r.id === requestId);
            if (requestIndex === -1) return;
            
            const request = balanceRequests[requestIndex];
            const amount = parseFloat(request.amount);
            
            // ØªØ­Ø¯ÙŠØ« Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            const user = allUsersData[request.user];
            
            if (user) {
                user.balance = parseFloat((user.balance + amount).toFixed(2));
                localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
                
                // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ùˆ Ø§Ù„Ø­Ø§Ù„ÙŠ
                if (currentUser && currentUser.phone === request.user) {
                    currentUser.balance = user.balance;
                    updateBalanceDisplay();
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯
                totalBalanceCharged = parseFloat((totalBalanceCharged + amount).toFixed(2));
                
                // Ø¥Ø¶Ø§ÙØ© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
                if (!user.balanceHistory) user.balanceHistory = [];
                user.balanceHistory.push({
                    amount: amount,
                    type: 'deposit',
                    date: new Date().toLocaleString('ar-EG'),
                    note: `Ø´Ø­Ù† Ø±ØµÙŠØ¯ Ø¨Ù…Ø¹Ø§Ù…Ù„Ø© ${request.transactionId}`
                });
            }
            
            // ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ Ù…ÙƒØªÙ…Ù„
            request.status = 'completed';
            
            saveUserData();
            loadBalanceRequestsTab();
            loadCompletedBalanceRequestsTab();
            showNotification(`ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ø´Ø­Ù† ÙˆØ¥Ø¶Ø§ÙØ© ${amount} Ø¬Ù†ÙŠÙ‡ Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….`, 'success');
        }

        function rejectBalanceRequest(requestId) {
            const requestIndex = balanceRequests.findIndex(r => r.id === requestId);
            if (requestIndex === -1) return;
            
            const request = balanceRequests[requestIndex];
            // ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ Ù…Ù„ØºÙŠ
            request.status = 'cancelled';
            saveUserData();
            loadBalanceRequestsTab();
            loadCompletedBalanceRequestsTab();
            showNotification('ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨ Ø§Ù„Ø´Ø­Ù†', 'info');
        }

        function deleteCustomer(phone) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…ÙŠÙ„ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙ‡.')) return;
            
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            delete allUsersData[phone];
            localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
            
            // Ø¥Ø²Ø§Ù„Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
            userOrders = userOrders.filter(order => order.user !== phone);
            adminOrders = adminOrders.filter(order => order.user !== phone);
            
            saveUserData();
            loadCustomersTab();
            showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }

        function toggleAdminStatus(phone) {
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            const user = allUsersData[phone];
            
            if (user) {
                user.isAdmin = !user.isAdmin;
                localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
                
                showNotification(`ØªÙ… ${user.isAdmin ? 'ØªØ¹ÙŠÙŠÙ†' : 'Ø¥Ù„ØºØ§Ø¡'} ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù„Ù„Ø¹Ù…ÙŠÙ„`, 'success');
                loadCustomersTab();
            }
        }

        function withdrawBalance(phone) {
            const amount = prompt('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ø³Ø­Ø¨Ù‡:');
            if (!amount || isNaN(amount) || parseFloat(amount) <= 0) {
                showNotification('Ø§Ù„Ù…Ø¨Ù„Øº ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
                return;
            }
            
            const parsedAmount = parseFloat(amount);
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            const user = allUsersData[phone];
            
            if (!user) {
                showNotification('Ø§Ù„Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                return;
            }
            
            if (parsedAmount > user.balance) {
                showNotification('Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙŠ', 'error');
                return;
            }
            
            const reason = prompt('Ø§Ù„Ø³Ø¨Ø¨:');
            if (!reason) return;
            
            user.balance = parseFloat((user.balance - parsedAmount).toFixed(2));
            
            // ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯
            totalBalanceCharged = parseFloat((totalBalanceCharged - parsedAmount).toFixed(2));
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
            if (!user.balanceHistory) user.balanceHistory = [];
            user.balanceHistory.push({
                amount: parsedAmount,
                type: 'withdraw',
                date: new Date().toLocaleString('ar-EG'),
                note: reason
            });
            
            localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ùˆ Ø§Ù„Ø­Ø§Ù„ÙŠ
            if (currentUser && currentUser.phone === phone) {
                currentUser.balance = user.balance;
                updateBalanceDisplay();
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
            loadAdminStats();
            
            showNotification(`ØªÙ… Ø³Ø­Ø¨ ${parsedAmount} Ø¬Ù†ÙŠÙ‡ Ù…Ù† Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„`, 'success');
            loadCustomersTab();
        }

        function sendReply(messageId) {
            const replyContent = document.getElementById(`reply-${messageId}`).value;
            if (!replyContent) return;
            
            const messageIndex = adminMessages.findIndex(msg => msg.id == messageId);
            if (messageIndex === -1) return;
            
            const message = adminMessages[messageIndex];
            if (!message.replies) message.replies = [];
            
            message.replies.push({
                admin: 'Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ',
                content: replyContent,
                timestamp: new Date().toLocaleString('ar-EG')
            });
            
            saveUserData();
            loadContactMessagesTab();
            showNotification('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }

        function completeMessage(messageId) {
            const messageIndex = adminMessages.findIndex(msg => msg.id == messageId);
            if (messageIndex === -1) return;
            
            adminMessages[messageIndex].status = 'completed';
            saveUserData();
            loadContactMessagesTab();
            loadCompletedMessagesTab();
            showNotification('ØªÙ… ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙƒÙ…ÙƒØªÙ…Ù„Ø©', 'success');
        }

        function reopenMessage(messageId) {
            const messageIndex = adminMessages.findIndex(msg => msg.id == messageId);
            if (messageIndex === -1) return;
            
            adminMessages[messageIndex].status = 'new';
            saveUserData();
            loadCompletedMessagesTab();
            loadContactMessagesTab();
            showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø©', 'info');
        }

        function showProfile() {
            if (!currentUser) return;
            
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            const userData = allUsersData[currentUser.phone];
            
            document.getElementById('profilePage').innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <h2 class="text-3xl font-bold text-center mb-8">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>
                    
                    <div class="profile-form">
                        <form id="profileForm" class="space-y-4" onsubmit="updateProfile(event)">
                            <div>
                                <label class="block text-sm font-medium mb-2">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                                <input type="text" id="profileName" class="auth-input" value="${userData.name}" required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                                <input type="tel" id="profilePhone" class="auth-input" value="${currentUser.phone}" required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ù„Ù„ØªØ£ÙƒÙŠØ¯)</label>
                                <input type="password" id="currentPassword" class="auth-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©" required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                                <input type="password" id="newPassword" class="auth-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø©">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                                <input type="password" id="confirmNewPassword" class="auth-input" placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
                            </div>
                            
                            <button type="submit" class="auth-btn">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                        </form>
                        
                        <div class="mt-6">
                            <button onclick="deleteAccount()" class="bg-red-600 hover:bg-red-700 text-white w-full py-3 rounded-lg transition-colors">
                                Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            showPage('profile');
        }

        function updateProfile(e) {
            e.preventDefault();
            
            if (!currentUser) return;
            
            const name = document.getElementById('profileName').value;
            const phone = document.getElementById('profilePhone').value;
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmNewPassword').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            const userData = allUsersData[currentUser.phone];
            
            if (!userData || userData.password !== currentPassword) {
                showNotification('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            if (newPassword && newPassword !== confirmPassword) {
                showNotification('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©', 'error');
                return;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            userData.name = name;
            
            // ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¥Ø°Ø§ ØªÙ… Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ø­Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©
            if (newPassword) {
                userData.password = newPassword;
            }
            
            // ØªØ³Ø¬ÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
            userData.lastEdit = new Date().toLocaleString('ar-EG');
            userEdits.push({
                userId: currentUser.phone,
                timestamp: userData.lastEdit
            });
            
            // Ø¥Ø°Ø§ ØªÙ… ØªØºÙŠÙŠØ± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
            if (phone !== currentUser.phone) {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
                if (allUsersData[phone]) {
                    showNotification('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„', 'error');
                    return;
                }
                
                // Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
                allUsersData[phone] = userData;
                delete allUsersData[currentUser.phone];
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„
                userOrders.forEach(order => {
                    if (order.user === currentUser.phone) {
                        order.user = phone;
                    }
                });
                adminOrders.forEach(order => {
                    if (order.user === currentUser.phone) {
                        order.user = phone;
                    }
                });
                adminMessages.forEach(msg => {
                    if (msg.user === currentUser.phone) {
                        msg.user = phone;
                    }
                });
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
                currentUser.phone = phone;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            currentUser.name = name;
            
            // Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
            localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
            saveUserData();
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            document.getElementById('userName').textContent = name;
            document.getElementById('userInitial').textContent = name.charAt(0);
            
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            showPage('home');
        }

        function verifyTwoFactor() {
            const code = document.getElementById('twoFactorCode').value;
            if (code && code.length === 6) {
                showNotification('ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
                hideTwoFactorModal();
            } else {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² ØªØ­Ù‚Ù‚ ØµØ­ÙŠØ­', 'error');
            }
        }

        function deleteAccount() {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø­Ø³Ø§Ø¨ÙƒØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù….')) return;
            
            if (!currentUser) return;
            
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            delete allUsersData[currentUser.phone];
            localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
            
            // Remove user orders
            userOrders = userOrders.filter(order => order.user !== currentUser.phone);
            adminOrders = adminOrders.filter(order => order.user !== currentUser.phone);
            adminMessages = adminMessages.filter(msg => msg.user !== currentUser.phone);
            
            // Logout
            logout();
            showNotification('ØªÙ… Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }

        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function showClearAllDataModal() {
            document.getElementById('clearAllDataModal').classList.remove('hidden');
        }
        
        function hideClearAllDataModal() {
            document.getElementById('clearAllDataModal').classList.add('hidden');
        }
        
        function handleClearAllData(e) {
            e.preventDefault();
            const password = document.getElementById('clearDataPassword').value;
            
            if (password === 'kimo777kimo' || password === 'taf3el2024') {
                clearAllData();
                hideClearAllDataModal();
            } else {
                showNotification('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
            }
        }
        
        function clearAllData() {
            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙ‚Ø·
            const allUsersData = JSON.parse(localStorage.getItem('allUsersData')) || {};
            
            // Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
            localStorage.clear();
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙ‚Ø·
            localStorage.setItem('allUsersData', JSON.stringify(allUsersData));
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            alert('ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ Ø¨Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡. Ø³ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©.');
            location.reload();
        }

        // Utility functions
        function logout() {
            currentUser = null;
            isAdmin = false;
            localStorage.removeItem('currentUser');
            localStorage.removeItem('isAdmin');
            hideUserProfile();
            hideAdminAccess();
            showPage('home');
            showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
        }

        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            
            const bgColor = {
                'success': 'bg-green-600',
                'error': 'bg-red-600',
                'warning': 'bg-yellow-600',
                'info': 'bg-blue-600'
            }[type] || 'bg-blue-600';
            
            notification.className = `notification ${bgColor} text-white p-4 rounded-lg shadow-lg max-w-sm`;
            notification.innerHTML = `
                <div class="flex justify-between items-start">
                    <div>${message}</div>
                    <button onclick="this.parentElement.parentElement.remove()" class="text-white hover:text-gray-200 ml-2">
                        Ã—
                    </button>
                </div>
            `;
            
            container.appendChild(notification);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('#userAvatar')) {
                document.getElementById('userDropdown').classList.add('hidden');
            }
        });
    </script>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDj4nWEcooJzgaBjzP1AlCAJYl_wKTKGfE",
    authDomain: "egy-taf3el.firebaseapp.com",
    projectId: "egy-taf3el"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  function handleServiceOrder(e) {
    e.preventDefault();

    const order = {
      service: document.getElementById("serviceTitle")?.innerText || "Unknown",
      link: document.getElementById("contentLink")?.value || "",
      quantity: document.getElementById("quantity")?.value || 1,
      notes: document.getElementById("orderNotes")?.value || "",
      price: document.getElementById("totalPrice")?.innerText || "",
      status: "pending",
      createdAt: firebase.firestore.FieldValue.serverTimestamp()
    };

    db.collection("orders").add(order)
      .then(() => {
        alert("Order sent successfully");
      })
      .catch(err => {
        alert("Error sending order");
        console.error(err);
      });
  }
</script>


<!-- Firebase SDK (Fixed & Verified) -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
if (!firebase.apps.length) {
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID"
  };
  firebase.initializeApp(firebaseConfig);
}
const db = firebase.firestore();
</script>


<!-- ================= FIREBASE ================= -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getFirestore, collection, addDoc, setDoc, doc, getDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDj4nWEcooJzgaBjzP1ALCAJYL_wKTKGfE",
  authDomain: "egy-taf3el.firebaseapp.com",
  projectId: "egy-taf3el",
  storageBucket: "egy-taf3el.firebasestorage.app",
  messagingSenderId: "837756228710",
  appId: "1:837756228710:web:ef370b09f8efc03f7c89a7",
  measurementId: "G-TG9ZBVKEC0"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// SIGNUP
document.getElementById("signupForm")?.addEventListener("submit", async (e) => {
  e.preventDefault();
  const name = signupName.value;
  const phone = signupPhone.value;
  const password = signupPassword.value;
  const email = phone + "@taf3el.com";

  const cred = await createUserWithEmailAndPassword(auth, email, password);
  await setDoc(doc(db, "users", cred.user.uid), {
    name, phone, balance: 5, createdAt: serverTimestamp()
  });
  alert("Account created successfully");
  location.reload();
});

// LOGIN
document.getElementById("loginForm")?.addEventListener("submit", async (e) => {
  e.preventDefault();
  const phone = loginPhone.value;
  const password = loginPassword.value;
  const email = phone + "@taf3el.com";
  await signInWithEmailAndPassword(auth, email, password);
  location.reload();
});

// AUTH STATE
onAuthStateChanged(auth, async (user) => {
  if (user) {
    authButtons.classList.add("hidden");
    userProfile.classList.remove("hidden");
    const snap = await getDoc(doc(db, "users", user.uid));
    if (snap.exists()) {
      userName.innerText = snap.data().name;
      userPhone.innerText = snap.data().phone;
      userBalance.innerText = snap.data().balance;
    }
  }
});

// LOGOUT
window.logout = async () => {
  await signOut(auth);
  location.reload();
};

// SAVE ORDER
window.handleServiceOrder = async (e) => {
  e.preventDefault();
  const user = auth.currentUser;
  if (!user) return alert("Login first");

  await addDoc(collection(db, "orders"), {
    userId: user.uid,
    service: serviceTitle.innerText,
    link: contentLink.value,
    quantity: quantity.value,
    notes: orderNotes.value,
    status: "pending",
    createdAt: serverTimestamp()
  });

  alert("Order sent successfully");
  closeServiceModal();
};
</script>
<!-- ================= END FIREBASE ================= -->

</body>
</html>
